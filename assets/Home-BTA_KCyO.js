import{d as X,o as E,c as L,a as _,t as St,_ as N,r as M,b as Tr,e as Jt,w as B,v as A,u as P,n as ie,f as $e,F as ht,p as qe,g as Fe,h as _r,i as qt,j as C,k as Re,l as jt,T as Sr,m as xr,s as Ue,q as Pr,x as Er,y as Mr,z as Or}from"./index-B1cD5bVW.js";import{c as mt,g as Ne}from"./request-CxBlvSwM.js";import{u as Ye,a as Lr}from"./momentdata-R-fBS_3P.js";const Br={class:"title"},Dr={class:"title_text"},Ar=["href"],Cr=X({__name:"HomeNavBar",props:{appUrl:{type:String,default:""},title:{type:String,default:""}},setup(t){const e=t;return(r,i)=>(E(),L("div",Br,[_("span",Dr,[_("a",{href:e.appUrl},St(e.title),9,Ar)])]))}}),Ir=N(Cr,[["__scopeId","data-v-98ec13d0"]]);function Hr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ze=Hr,$r=typeof mt=="object"&&mt&&mt.Object===Object&&mt,qr=$r,Fr=qr,Rr=typeof self=="object"&&self&&self.Object===Object&&self,Ur=Fr||Rr||Function("return this")(),je=Ur,Nr=je,Yr=function(){return Nr.Date.now()},zr=Yr,jr=/\s/;function Xr(t){for(var e=t.length;e--&&jr.test(t.charAt(e)););return e}var Wr=Xr,Vr=Wr,Kr=/^\s+/;function Gr(t){return t&&t.slice(0,Vr(t)+1).replace(Kr,"")}var Qr=Gr,Jr=je,Zr=Jr.Symbol,Xe=Zr,ne=Xe,We=Object.prototype,ti=We.hasOwnProperty,ei=We.toString,st=ne?ne.toStringTag:void 0;function ri(t){var e=ti.call(t,st),r=t[st];try{t[st]=void 0;var i=!0}catch{}var o=ei.call(t);return i&&(e?t[st]=r:delete t[st]),o}var ii=ri,ni=Object.prototype,oi=ni.toString;function si(t){return oi.call(t)}var ai=si,oe=Xe,li=ii,ci=ai,ui="[object Null]",hi="[object Undefined]",se=oe?oe.toStringTag:void 0;function pi(t){return t==null?t===void 0?hi:ui:se&&se in Object(t)?li(t):ci(t)}var fi=pi;function di(t){return t!=null&&typeof t=="object"}var vi=di,mi=fi,yi=vi,gi="[object Symbol]";function bi(t){return typeof t=="symbol"||yi(t)&&mi(t)==gi}var wi=bi,ki=Qr,ae=ze,Ti=wi,le=NaN,_i=/^[-+]0x[0-9a-f]+$/i,Si=/^0b[01]+$/i,xi=/^0o[0-7]+$/i,Pi=parseInt;function Ei(t){if(typeof t=="number")return t;if(Ti(t))return le;if(ae(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ae(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ki(t);var r=Si.test(t);return r||xi.test(t)?Pi(t.slice(2),r?2:8):_i.test(t)?le:+t}var Mi=Ei,Oi=ze,Ft=zr,ce=Mi,Li="Expected a function",Bi=Math.max,Di=Math.min;function Ai(t,e,r){var i,o,n,a,l,c,s=0,u=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(Li);e=ce(e)||0,Oi(r)&&(u=!!r.leading,h="maxWait"in r,n=h?Bi(ce(r.maxWait)||0,e):n,d="trailing"in r?!!r.trailing:d);function p(T){var S=i,O=o;return i=o=void 0,s=T,a=t.apply(O,S),a}function v(T){return s=T,l=setTimeout(m,e),u?p(T):a}function b(T){var S=T-c,O=T-s,H=e-S;return h?Di(H,n-O):H}function y(T){var S=T-c,O=T-s;return c===void 0||S>=e||S<0||h&&O>=n}function m(){var T=Ft();if(y(T))return k(T);l=setTimeout(m,b(T))}function k(T){return l=void 0,d&&i?p(T):(i=o=void 0,a)}function w(){l!==void 0&&clearTimeout(l),s=0,i=c=o=l=void 0}function f(){return l===void 0?a:k(Ft())}function g(){var T=Ft(),S=y(T);if(i=arguments,o=this,c=T,S){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(m,e),p(c)}return l===void 0&&(l=setTimeout(m,e)),a}return g.cancel=w,g.flush=f,g}var Ci=Ai;const ue=Ne(Ci);/*!
 * better-scroll / core
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xt=function(t,e){return Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Xt(t,e)};function At(t,e){Xt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ct=function(){return ct=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ct.apply(this,arguments)};function Ve(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<r;e++)for(var n=arguments[e],a=0,l=n.length;a<l;a++,o++)i[o]=n[a];return i}var Ii=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function xt(t){console.error("[BScroll warn]: "+t)}var I=typeof window<"u",it=I&&navigator.userAgent.toLowerCase(),Hi=!!(it&&/wechatdevtools/.test(it)),$i=it&&it.indexOf("android")>0,qi=function(){if(typeof it=="string"){var t=/os (\d\d?_\d(_\d)?)/,e=t.exec(it);if(!e)return!1;var r=e[1].split("_").map(function(i){return parseInt(i,10)});return r[0]===13&&r[1]>=4}return!1}(),Ke=!1;if(I){var Fi="test-passive";try{var he={};Object.defineProperty(he,"passive",{get:function(){Ke=!0}}),window.addEventListener(Fi,function(){},he)}catch{}}function K(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var Wt=function(t,e){for(var r in e)t[r]=e[r];return t};function Vt(t){return t==null}function pe(t,e,r){return t<e?e:t>r?r:t}var Zt=I&&document.createElement("div").style,J=function(){if(!I)return!1;for(var t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,r=t;e<r.length;e++){var i=r[e];if(Zt[i.value]!==void 0)return i.key}return!1}();function $(t){return J===!1?t:J==="standard"?t==="transitionEnd"?"transitionend":t:J+t.charAt(0).toUpperCase()+t.substr(1)}function Ge(t){return typeof t=="string"?document.querySelector(t):t}function Ri(t,e,r,i){var o=Ke?{passive:!1,capture:!!i}:!!i;t.addEventListener(e,r,o)}function Ui(t,e,r,i){t.removeEventListener(e,r,{capture:!!i})}function Qe(t){t.cancelable&&t.preventDefault()}function fe(t){for(var e=0,r=0;t;)e-=t.offsetLeft,r-=t.offsetTop,t=t.offsetParent;return{left:e,top:r}}J&&J!=="standard"&&""+J.toLowerCase();var Ni=$("transform"),Je=$("transition"),Yi=I&&$("perspective")in Zt,de=I&&("ontouchstart"in window||Hi),zi=I&&Je in Zt,V={transform:Ni,transition:Je,transitionTimingFunction:$("transitionTimingFunction"),transitionDuration:$("transitionDuration"),transitionDelay:$("transitionDelay"),transformOrigin:$("transformOrigin"),transitionEnd:$("transitionEnd"),transitionProperty:$("transitionProperty")},Rt={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function ve(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}else return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function ut(t,e){for(var r in e)if(e[r].test(t[r]))return!0;return!1}var ji=ut;function Xi(t,e){var r=document.createEvent("Event");r.initEvent(e,!0,!0),r.pageX=t.pageX,r.pageY=t.pageY,t.target.dispatchEvent(r)}function Ze(t,e){e===void 0&&(e="click");var r;t.type==="mouseup"?r=t:(t.type==="touchend"||t.type==="touchcancel")&&(r=t.changedTouches[0]);var i={};r&&(i.screenX=r.screenX||0,i.screenY=r.screenY||0,i.clientX=r.clientX||0,i.clientY=r.clientY||0);var o,n=!0,a=!0,l=t.ctrlKey,c=t.shiftKey,s=t.altKey,u=t.metaKey,h={ctrlKey:l,shiftKey:c,altKey:s,metaKey:u};if(typeof MouseEvent<"u")try{o=new MouseEvent(e,Wt(ct({bubbles:n,cancelable:a},h),i))}catch{d()}else d();function d(){o=document.createEvent("Event"),o.initEvent(e,n,a),Wt(o,i)}o.forwardedTouchEvent=!0,o._constructed=!0,t.target.dispatchEvent(o)}function Wi(t){Ze(t,"dblclick")}var W={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},Vi=1e3/60,z=I&&window;function tr(){}var er=function(){return I?z.requestAnimationFrame||z.webkitRequestAnimationFrame||z.mozRequestAnimationFrame||z.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||Vi)}:tr}(),G=function(){return I?z.cancelAnimationFrame||z.webkitCancelAnimationFrame||z.mozCancelAnimationFrame||z.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:tr}(),me=function(t){},Ut={enumerable:!0,configurable:!0,get:me,set:me},Ki=function(t,e){for(var r=e.split("."),i=0;i<r.length-1;i++)if(t=t[r[i]],typeof t!="object"||!t)return;var o=r.pop();return typeof t[o]=="function"?function(){return t[o].apply(t,arguments)}:t[o]},Gi=function(t,e,r){for(var i=e.split("."),o,n=0;n<i.length-1;n++)o=i[n],t[o]||(t[o]={}),t=t[o];t[i.pop()]=r};function Qi(t,e,r){Ut.get=function(){return Ki(this,e)},Ut.set=function(o){Gi(this,e,o)},Object.defineProperty(t,r,Ut)}var j=function(){function t(e){this.events={},this.eventTypes={},this.registerType(e)}return t.prototype.on=function(e,r,i){return i===void 0&&(i=this),this.hasType(e),this.events[e]||(this.events[e]=[]),this.events[e].push([r,i]),this},t.prototype.once=function(e,r,i){var o=this;i===void 0&&(i=this),this.hasType(e);var n=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];o.off(e,n);var c=r.apply(i,a);if(c===!0)return c};return n.fn=r,this.on(e,n),this},t.prototype.off=function(e,r){if(!e&&!r)return this.events={},this;if(e){if(this.hasType(e),!r)return this.events[e]=[],this;var i=this.events[e];if(!i)return this;for(var o=i.length;o--;)(i[o][0]===r||i[o][0]&&i[o][0].fn===r)&&i.splice(o,1);return this}},t.prototype.trigger=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.hasType(e);var o=this.events[e];if(o)for(var n=o.length,a=Ve(o),l,c=0;c<n;c++){var s=a[c],u=s[0],h=s[1];if(u&&(l=u.apply(h,r),l===!0))return l}},t.prototype.registerType=function(e){var r=this;e.forEach(function(i){r.eventTypes[i]=i})},t.prototype.destroy=function(){this.events={},this.eventTypes={}},t.prototype.hasType=function(e){var r=this.eventTypes,i=r[e]===e;i||xt('EventEmitter has used unknown event type: "'+e+'", should be oneof ['+(""+Object.keys(r).map(function(o){return JSON.stringify(o)}))+"]")},t}(),Et=function(){function t(e,r){this.wrapper=e,this.events=r,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(Ri)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(Ui)},t.prototype.handleDOMEvents=function(e){var r=this,i=this.wrapper;this.events.forEach(function(o){e(i,o.name,r,!!o.capture)})},t.prototype.handleEvent=function(e){var r=e.type;this.events.some(function(i){return i.name===r?(i.handler(e),!0):!1})},t}(),Ji=function(){function t(){}return t}(),Zi=function(t){At(e,t);function e(){var r=t.call(this)||this;return r.startX=0,r.startY=0,r.scrollX=!1,r.scrollY=!0,r.freeScroll=!1,r.directionLockThreshold=0,r.eventPassthrough="",r.click=!1,r.dblclick=!1,r.tap="",r.bounce={top:!0,bottom:!0,left:!0,right:!0},r.bounceTime=800,r.momentum=!0,r.momentumLimitTime=300,r.momentumLimitDistance=15,r.swipeTime=2500,r.swipeBounceTime=500,r.deceleration=.0015,r.flickLimitTime=200,r.flickLimitDistance=100,r.resizePolling=60,r.probeType=0,r.stopPropagation=!1,r.preventDefault=!0,r.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},r.tagException={tagName:/^TEXTAREA$/},r.HWCompositing=!0,r.useTransition=!0,r.bindToWrapper=!1,r.bindToTarget=!1,r.disableMouse=de,r.disableTouch=!de,r.autoBlur=!0,r.autoEndDistance=5,r.outOfBoundaryDampingFactor=1/3,r.specifiedIndexAsContent=0,r.quadrant=1,r}return e.prototype.merge=function(r){if(!r)return this;for(var i in r){if(i==="bounce"){this.bounce=this.resolveBounce(r[i]);continue}this[i]=r[i]}return this},e.prototype.process=function(){return this.translateZ=this.HWCompositing&&Yi?" translateZ(1px)":"",this.useTransition=this.useTransition&&zi,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX=this.eventPassthrough==="horizontal"?!1:this.scrollX,this.scrollY=this.eventPassthrough==="vertical"?!1:this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=this.freeScroll?!0:this.scrollX,this.scrollY=this.freeScroll?!0:this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},e.prototype.resolveBounce=function(r){var i={top:!0,right:!0,bottom:!0,left:!0},o={top:!1,right:!1,bottom:!1,left:!1},n;return typeof r=="object"?n=Wt(i,r):n=r?i:o,n},e}(Ji),tn=function(){function t(e,r){this.wrapper=e,this.options=r,this.hooks=new j(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return t.prototype.handleDOMEvents=function(){var e=this.options,r=e.bindToWrapper,i=e.disableMouse,o=e.disableTouch,n=e.click,a=this.wrapper,l=r?a:window,c=[],s=[],u=!o,h=!i;n&&c.push({name:"click",handler:this.click.bind(this),capture:!0}),u&&(c.push({name:"touchstart",handler:this.start.bind(this)}),s.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),h&&(c.push({name:"mousedown",handler:this.start.bind(this)}),s.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new Et(a,c),this.targetEventRegister=new Et(l,s)},t.prototype.beforeHandler=function(e,r){var i=this.options,o=i.preventDefault,n=i.stopPropagation,a=i.preventDefaultException,l={start:function(){return o&&!ut(e.target,a)},end:function(){return o&&!ut(e.target,a)},move:function(){return o}};l[r]()&&e.preventDefault(),n&&e.stopPropagation()},t.prototype.setInitiated=function(e){e===void 0&&(e=0),this.initiated=e},t.prototype.start=function(e){var r=Rt[e.type];if(!(this.initiated&&this.initiated!==r)){if(this.setInitiated(r),ji(e.target,this.options.tagException)){this.setInitiated();return}if(!(r===2&&e.button!==0)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,e)){this.beforeHandler(e,"start");var i=e.touches?e.touches[0]:e;this.pointX=i.pageX,this.pointY=i.pageY,this.hooks.trigger(this.hooks.eventTypes.start,e)}}},t.prototype.move=function(e){if(Rt[e.type]===this.initiated){this.beforeHandler(e,"move");var r=e.touches?e.touches[0]:e,i=r.pageX-this.pointX,o=r.pageY-this.pointY;if(this.pointX=r.pageX,this.pointY=r.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:i,deltaY:o,e})){var n=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,l=this.pointX-n,c=this.pointY-a,s=this.options.autoEndDistance;(l>document.documentElement.clientWidth-s||c>document.documentElement.clientHeight-s||l<s||c<s)&&this.end(e)}}},t.prototype.end=function(e){Rt[e.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(e,"end"),this.hooks.trigger(this.hooks.eventTypes.end,e))},t.prototype.click=function(e){this.hooks.trigger(this.hooks.eventTypes.click,e)},t.prototype.setContent=function(e){e!==this.wrapper&&(this.wrapper=e,this.rebindDOMEvents())},t.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},t.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},t}(),Nt={x:["translateX","px"],y:["translateY","px"]},en=function(){function t(e){this.setContent(e),this.hooks=new j(["beforeTranslate","translate"])}return t.prototype.getComputedPosition=function(){var e=window.getComputedStyle(this.content,null),r=e[V.transform].split(")")[0].split(", "),i=+(r[12]||r[4])||0,o=+(r[13]||r[5])||0;return{x:i,y:o}},t.prototype.translate=function(e){var r=[];Object.keys(e).forEach(function(i){if(Nt[i]){var o=Nt[i][0];if(o){var n=Nt[i][1],a=e[i];r.push(o+"("+a+n+")")}}}),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,r,e),this.style[V.transform]=r.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,e)},t.prototype.setContent=function(e){this.content!==e&&(this.content=e,this.style=e.style)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),rr=function(){function t(e,r,i){this.translater=r,this.options=i,this.timer=0,this.hooks=new j(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(e)}return t.prototype.translate=function(e){this.translater.translate(e)},t.prototype.setPending=function(e){this.pending=e},t.prototype.setForceStopped=function(e){this.forceStopped=e},t.prototype.setCallStop=function(e){this.callStopWhenPending=e},t.prototype.setContent=function(e){this.content!==e&&(this.content=e,this.style=e.style,this.stop())},t.prototype.clearTimer=function(){this.timer&&(G(this.timer),this.timer=0)},t.prototype.destroy=function(){this.hooks.destroy(),G(this.timer)},t}(),rn=function(t,e,r,i){var o=function(s,u){var h=s-u,d=h>0?-1:h<0?1:0;return d},n=o(e.x,t.x),a=o(e.y,t.y),l=r.x-i.x,c=r.y-i.y;return n*l<=0&&a*c<=0},nn=function(t){At(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.startProbe=function(r,i){var o=this,n=r,a=function(){var l=o.translater.getComputedPosition();rn(r,i,l,n)&&o.hooks.trigger(o.hooks.eventTypes.move,l),o.pending||(o.callStopWhenPending?o.callStopWhenPending=!1:o.hooks.trigger(o.hooks.eventTypes.end,l)),n=l,o.pending&&(o.timer=er(a))};this.callStopWhenPending&&this.setCallStop(!1),G(this.timer),a()},e.prototype.transitionTime=function(r){r===void 0&&(r=0),this.style[V.transitionDuration]=r+"ms",this.hooks.trigger(this.hooks.eventTypes.time,r)},e.prototype.transitionTimingFunction=function(r){this.style[V.transitionTimingFunction]=r,this.hooks.trigger(this.hooks.eventTypes.timeFunction,r)},e.prototype.transitionProperty=function(){this.style[V.transitionProperty]=V.transform},e.prototype.move=function(r,i,o,n){this.setPending(o>0),this.transitionTimingFunction(n),this.transitionProperty(),this.transitionTime(o),this.translate(i);var a=this.options.probeType===3;o&&a&&this.startProbe(r,i),o||(this._reflow=this.content.offsetHeight,a&&this.hooks.trigger(this.hooks.eventTypes.move,i),this.hooks.trigger(this.hooks.eventTypes.end,i))},e.prototype.doStop=function(){var r=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),r){this.setPending(!1),G(this.timer);var i=this.translater.getComputedPosition(),o=i.x,n=i.y;this.transitionTime(),this.translate({x:o,y:n}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:o,y:n})}return r},e.prototype.stop=function(){var r=this.doStop();r&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(rr),on=function(t){At(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.move=function(r,i,o,n){if(!o){this.translate(i),this.options.probeType===3&&this.hooks.trigger(this.hooks.eventTypes.move,i),this.hooks.trigger(this.hooks.eventTypes.end,i);return}this.animate(r,i,o,n)},e.prototype.animate=function(r,i,o,n){var a=this,l=K(),c=l+o,s=this.options.probeType===3,u=function(){var h=K();if(h>=c){a.translate(i),s&&a.hooks.trigger(a.hooks.eventTypes.move,i),a.hooks.trigger(a.hooks.eventTypes.end,i);return}h=(h-l)/o;var d=n(h),p={};Object.keys(i).forEach(function(v){var b=r[v],y=i[v];p[v]=(y-b)*d+b}),a.translate(p),s&&a.hooks.trigger(a.hooks.eventTypes.move,p),a.pending&&(a.timer=er(u)),a.pending||(a.callStopWhenPending?a.callStopWhenPending=!1:a.hooks.trigger(a.hooks.eventTypes.end,i))};this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),G(this.timer),u()},e.prototype.doStop=function(){var r=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),r){this.setPending(!1),G(this.timer);var i=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,i)}return r},e.prototype.stop=function(){var r=this.doStop();r&&this.hooks.trigger(this.hooks.eventTypes.callStop)},e}(rr);function sn(t,e,r){var i=r.useTransition,o={};return Object.defineProperty(o,"probeType",{enumerable:!0,configurable:!1,get:function(){return r.probeType}}),i?new nn(t,e,o):new on(t,e,o)}var ye=function(){function t(e,r,i){this.wrapper=e,this.options=i,this.hooks=new j(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(r)}return t.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},t.prototype.move=function(e){return e=this.hasScroll?e:0,this.setMovingDirection(e),this.performDampingAlgorithm(e,this.options.outOfBoundaryDampingFactor)},t.prototype.setMovingDirection=function(e){this.movingDirection=e>0?-1:e<0?1:0},t.prototype.setDirection=function(e){this.direction=e>0?-1:e<0?1:0},t.prototype.performDampingAlgorithm=function(e,r){var i=this.currentPos+e;return(i>this.minScrollPos||i<this.maxScrollPos)&&(i>this.minScrollPos&&this.options.bounces[0]||i<this.maxScrollPos&&this.options.bounces[1]?i=this.currentPos+e*r:i=i>this.minScrollPos?this.minScrollPos:this.maxScrollPos),i},t.prototype.end=function(e){var r={duration:0},i=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&e<this.options.momentumLimitTime&&i>this.options.momentumLimitDistance){var o=this.direction===-1&&this.options.bounces[0]||this.direction===1&&this.options.bounces[1]?this.wrapperSize:0;r=this.hasScroll?this.momentum(this.currentPos,this.startPos,e,this.maxScrollPos,this.minScrollPos,o,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,r);return r},t.prototype.momentum=function(e,r,i,o,n,a,l){l===void 0&&(l=this.options);var c=e-r,s=Math.abs(c)/i,u=l.deceleration,h=l.swipeBounceTime,d=l.swipeTime,p=Math.min(d,s*2/u),v={destination:e+s*s/u*(c<0?-1:1),duration:p,rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,v,c),v.destination<o?(v.destination=a?Math.max(o-a/4,o-a/v.rate*s):o,v.duration=h):v.destination>n&&(v.destination=a?Math.min(n+a/4,n+a/v.rate*s):n,v.duration=h),v.destination=Math.round(v.destination),v},t.prototype.updateDirection=function(){var e=this.currentPos-this.absStartPos;this.setDirection(e)},t.prototype.refresh=function(e){var r=this.options.rect,i=r.size,o=r.position,n=window.getComputedStyle(this.wrapper,null).position==="static",a=ve(this.wrapper);this.wrapperSize=this.wrapper[i==="width"?"clientWidth":"clientHeight"],this.setContent(e);var l=ve(this.content);this.contentSize=l[i],this.relativeOffset=l[o],n&&(this.relativeOffset-=a[o]),this.computeBoundary(),this.setDirection(0)},t.prototype.setContent=function(e){e!==this.content&&(this.content=e,this.resetState())},t.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},t.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var e={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};e.maxScrollPos<0&&(e.maxScrollPos-=this.relativeOffset,this.options.specifiedIndexAsContent===0&&(e.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,e),this.minScrollPos=e.minScrollPos,this.maxScrollPos=e.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},t.prototype.updatePosition=function(e){this.currentPos=e},t.prototype.getCurrentPos=function(){return this.currentPos},t.prototype.checkInBoundary=function(){var e=this.adjustPosition(this.currentPos),r=e===this.getCurrentPos();return{position:e,inBoundary:r}},t.prototype.adjustPosition=function(e){return!this.hasScroll&&!this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?e=this.minScrollPos:e>this.minScrollPos?e=this.minScrollPos:e<this.maxScrollPos&&(e=this.maxScrollPos),e},t.prototype.updateStartPos=function(){this.startPos=this.currentPos},t.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},t.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},t.prototype.getAbsDist=function(e){return this.dist+=e,Math.abs(this.dist)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),yt,gt,bt,wt,ge=(yt={},yt.yes=function(t){return!0},yt.no=function(t){return Qe(t),!1},yt),an=(gt={},gt.horizontal=(bt={},bt.yes="horizontal",bt.no="vertical",bt),gt.vertical=(wt={},wt.yes="vertical",wt.no="horizontal",wt),gt),ln=function(){function t(e,r,i){this.directionLockThreshold=e,this.freeScroll=r,this.eventPassthrough=i,this.reset()}return t.prototype.reset=function(){this.directionLocked=""},t.prototype.checkMovingDirection=function(e,r,i){return this.computeDirectionLock(e,r),this.handleEventPassthrough(i)},t.prototype.adjustDelta=function(e,r){return this.directionLocked==="horizontal"?r=0:this.directionLocked==="vertical"&&(e=0),{deltaX:e,deltaY:r}},t.prototype.computeDirectionLock=function(e,r){this.directionLocked===""&&!this.freeScroll&&(e>r+this.directionLockThreshold?this.directionLocked="horizontal":r>=e+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},t.prototype.handleEventPassthrough=function(e){var r=an[this.directionLocked];if(r){if(this.eventPassthrough===r.yes)return ge.yes(e);if(this.eventPassthrough===r.no)return ge.no(e)}return!1},t}(),cn=function(t,e,r){return r===2?[e,-t]:r===3?[-t,-e]:r===4?[-e,t]:[t,e]},un=function(){function t(e,r,i,o,n){this.hooks=new j(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=e,this.scrollBehaviorY=r,this.actionsHandler=i,this.animater=o,this.options=n,this.directionLockAction=new ln(n.directionLockThreshold,n.freeScroll,n.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return t.prototype.bindActionsHandler=function(){var e=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,function(r){return e.enabled?e.handleStart(r):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,function(r){var i=r.deltaX,o=r.deltaY,n=r.e;if(!e.enabled)return!0;var a=cn(i,o,e.options.quadrant),l=a[0],c=a[1],s={deltaX:l,deltaY:c};return e.hooks.trigger(e.hooks.eventTypes.coordinateTransformation,s),e.handleMove(s.deltaX,s.deltaY,n)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,function(r){return e.enabled?e.handleEnd(r):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,function(r){e.enabled&&!r._constructed&&e.handleClick(r)})},t.prototype.handleStart=function(e){var r=K();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=r,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,e)},t.prototype.handleMove=function(e,r,i){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,i)){var o=this.scrollBehaviorX.getAbsDist(e),n=this.scrollBehaviorY.getAbsDist(r),a=K();if(this.checkMomentum(o,n,a))return!0;if(this.directionLockAction.checkMovingDirection(o,n,i))return this.actionsHandler.setInitiated(),!0;var l=this.directionLockAction.adjustDelta(e,r),c=this.scrollBehaviorX.getCurrentPos(),s=this.scrollBehaviorX.move(l.deltaX),u=this.scrollBehaviorY.getCurrentPos(),h=this.scrollBehaviorY.move(l.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var d=s!==c||h!==u;!this.contentMoved&&!d&&this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&d&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&d&&(this.animater.translate({x:s,y:h}),this.dispatchScroll(a))}}},t.prototype.dispatchScroll=function(e){e-this.startTime>this.options.momentumLimitTime&&(this.startTime=e,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),this.options.probeType===1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},t.prototype.checkMomentum=function(e,r,i){return i-this.endTime>this.options.momentumLimitTime&&r<this.options.momentumLimitDistance&&e<this.options.momentumLimitDistance},t.prototype.handleEnd=function(e){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,e)){var r=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,e,r))return!0;r=this.ensureIntegerPos(r),this.animater.translate(r),this.endTime=K();var i=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,r,i)}},t.prototype.ensureIntegerPos=function(e){this.ensuringInteger=!0;var r=e.x,i=e.y,o=this.scrollBehaviorX,n=o.minScrollPos,a=o.maxScrollPos,l=this.scrollBehaviorY,c=l.minScrollPos,s=l.maxScrollPos;return r=r>0?Math.ceil(r):Math.floor(r),i=i>0?Math.ceil(i):Math.floor(i),r=pe(r,a,n),i=pe(i,s,c),{x:r,y:i}},t.prototype.handleClick=function(e){ut(e.target,this.options.preventDefaultException)||(Qe(e),e.stopPropagation())},t.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},t.prototype.refresh=function(){this.endTime=0},t.prototype.destroy=function(){this.hooks.destroy()},t}();function hn(t){var e=["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce(function(r,i){return r[i]=t[i],r},{});return e}function be(t,e,r,i){var o=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce(function(n,a){return n[a]=t[a],n},{});return o.scrollable=!!t[e],o.bounces=r,o.rect=i,o}function Kt(t,e,r){r.forEach(function(i){var o,n;typeof i=="string"?o=n=i:(o=i.source,n=i.target),t.on(o,function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return e.trigger.apply(e,Ve([n],a))})})}function pn(t,e){for(var r=Object.keys(t),i=0,o=r;i<o.length;i++){var n=o[i];if(t[n]!==e[n])return!1}return!0}var we=1,fn=function(){function t(e,r,i){this.wrapper=e,this.content=r,this.resizeTimeout=0,this.hooks=new j(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=i;var o=this.options.bounce,n=o.left,a=o.right,l=o.top,c=o.bottom;this.scrollBehaviorX=new ye(e,r,be(i,"scrollX",[n,a],{size:"width",position:"left"})),this.scrollBehaviorY=new ye(e,r,be(i,"scrollY",[l,c],{size:"height",position:"top"})),this.translater=new en(this.content),this.animater=sn(this.content,this.translater,this.options),this.actionsHandler=new tn(this.options.bindToTarget?this.content:e,hn(this.options)),this.actions=new un(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var s=this.resize.bind(this);this.resizeRegister=new Et(window,[{name:"orientationchange",handler:s},{name:"resize",handler:s}]),this.registerTransitionEnd(),this.init()}return t.prototype.init=function(){var e=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,function(){e.togglePointerEvents(!0)})},t.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new Et(this.content,[{name:V.transitionEnd,handler:this.transitionEnd.bind(this)}])},t.prototype.bindTranslater=function(){var e=this,r=this.translater.hooks;r.on(r.eventTypes.beforeTranslate,function(i){e.options.translateZ&&i.push(e.options.translateZ)}),r.on(r.eventTypes.translate,function(i){var o=e.getCurrentPos();if(e.updatePositions(i),e.actions.ensuringInteger===!0){e.actions.ensuringInteger=!1;return}(i.x!==o.x||i.y!==o.y)&&e.togglePointerEvents(!1)})},t.prototype.bindAnimater=function(){var e=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,function(r){e.resetPosition(e.options.bounceTime)||(e.animater.setPending(!1),e.hooks.trigger(e.hooks.eventTypes.scrollEnd,r))}),Kt(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},t.prototype.bindActions=function(){var e=this,r=this.actions;Kt(r.hooks,this.hooks,[{source:r.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:r.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:r.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:r.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:r.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:r.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),r.hooks.on(r.hooks.eventTypes.end,function(i,o){if(e.hooks.trigger(e.hooks.eventTypes.touchEnd,o),e.hooks.trigger(e.hooks.eventTypes.end,o)||!r.fingerMoved&&(e.hooks.trigger(e.hooks.eventTypes.scrollCancel),e.checkClick(i)))return!0;if(e.resetPosition(e.options.bounceTime,W.bounce))return e.animater.setForceStopped(!1),!0}),r.hooks.on(r.hooks.eventTypes.scrollEnd,function(i,o){var n=Math.abs(i.x-e.scrollBehaviorX.startPos),a=Math.abs(i.y-e.scrollBehaviorY.startPos);if(e.checkFlick(o,n,a)){e.animater.setForceStopped(!1),e.hooks.trigger(e.hooks.eventTypes.flick);return}if(e.momentum(i,o)){e.animater.setForceStopped(!1);return}r.contentMoved&&e.hooks.trigger(e.hooks.eventTypes.scrollEnd,i),e.animater.forceStopped&&e.animater.setForceStopped(!1)})},t.prototype.checkFlick=function(e,r,i){var o=1;if(this.hooks.events.flick.length>1&&e<this.options.flickLimitTime&&r<this.options.flickLimitDistance&&i<this.options.flickLimitDistance&&(i>o||r>o))return!0},t.prototype.momentum=function(e,r){var i={time:0,easing:W.swiper,newX:e.x,newY:e.y},o=this.scrollBehaviorX.end(r),n=this.scrollBehaviorY.end(r);if(i.newX=Vt(o.destination)?i.newX:o.destination,i.newY=Vt(n.destination)?i.newY:n.destination,i.time=Math.max(o.duration,n.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,i,this),i.newX!==e.x||i.newY!==e.y)return(i.newX>this.scrollBehaviorX.minScrollPos||i.newX<this.scrollBehaviorX.maxScrollPos||i.newY>this.scrollBehaviorY.minScrollPos||i.newY<this.scrollBehaviorY.maxScrollPos)&&(i.easing=W.swipeBounce),this.scrollTo(i.newX,i.newY,i.time,i.easing),!0},t.prototype.checkClick=function(e){var r={preventClick:this.animater.forceStopped};if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!r.preventClick){var i=this.options.dblclick,o=!1;if(i&&this.lastClickTime){var n=i.delay,a=n===void 0?300:n;K()-this.lastClickTime<a&&(o=!0,Wi(e))}return this.options.tap&&Xi(e,this.options.tap),this.options.click&&!ut(e.target,this.options.preventDefaultException)&&Ze(e),this.lastClickTime=o?null:K(),!0}return!1},t.prototype.resize=function(){var e=this;this.actions.enabled&&($i&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(){e.hooks.trigger(e.hooks.eventTypes.resize)},this.options.resizePolling))},t.prototype.transitionEnd=function(e){if(!(e.target!==this.content||!this.animater.pending)){var r=this.animater;r.transitionTime(),this.resetPosition(this.options.bounceTime,W.bounce)||(this.animater.setPending(!1),this.options.probeType!==3&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos()))}},t.prototype.togglePointerEvents=function(e){e===void 0&&(e=!0);for(var r=this.content.children.length?this.content.children:[this.content],i=e?"auto":"none",o=0;o<r.length;o++){var n=r[o];n.isBScrollContainer||(n.style.pointerEvents=i)}},t.prototype.refresh=function(e){var r=this.setContent(e);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(e),this.scrollBehaviorY.refresh(e),r&&(this.translater.setContent(e),this.animater.setContent(e),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(e)),this.actions.refresh(),this.wrapperOffset=fe(this.wrapper)},t.prototype.setContent=function(e){var r=e!==this.content;return r&&(this.content=e),r},t.prototype.scrollBy=function(e,r,i,o){i===void 0&&(i=0);var n=this.getCurrentPos(),a=n.x,l=n.y;o=o||W.bounce,e+=a,r+=l,this.scrollTo(e,r,i,o)},t.prototype.scrollTo=function(e,r,i,o,n){i===void 0&&(i=0),o===void 0&&(o=W.bounce),n===void 0&&(n={start:{},end:{}});var a=this.options.useTransition?o.style:o.fn,l=this.getCurrentPos(),c=ct({x:l.x,y:l.y},n.start),s=ct({x:e,y:r},n.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,s),!pn(c,s)){var u=Math.abs(s.x-c.x),h=Math.abs(s.y-c.y);u<we&&h<we&&(i=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(c,s,i,a)}},t.prototype.scrollToElement=function(e,r,i,o,n){var a=Ge(e),l=fe(a),c=function(u,h,d){return typeof u=="number"?u:u?Math.round(h/2-d/2):0};i=c(i,a.offsetWidth,this.wrapper.offsetWidth),o=c(o,a.offsetHeight,this.wrapper.offsetHeight);var s=function(u,h,d,p){return u-=h,u=p.adjustPosition(u-d),u};l.left=s(l.left,this.wrapperOffset.left,i,this.scrollBehaviorX),l.top=s(l.top,this.wrapperOffset.top,o,this.scrollBehaviorY),!this.hooks.trigger(this.hooks.eventTypes.scrollToElement,a,l)&&this.scrollTo(l.left,l.top,r,n)},t.prototype.resetPosition=function(e,r){e===void 0&&(e=0),r===void 0&&(r=W.bounce);var i=this.scrollBehaviorX.checkInBoundary(),o=i.position,n=i.inBoundary,a=this.scrollBehaviorY.checkInBoundary(),l=a.position,c=a.inBoundary;return n&&c?!1:(qi&&this.reflow(),this.scrollTo(o,l,e,r),!0)},t.prototype.reflow=function(){this._reflow=this.content.offsetHeight},t.prototype.updatePositions=function(e){this.scrollBehaviorX.updatePosition(e.x),this.scrollBehaviorY.updatePosition(e.y)},t.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},t.prototype.enable=function(){this.actions.enabled=!0},t.prototype.disable=function(){G(this.animater.timer),this.actions.enabled=!1},t.prototype.destroy=function(){var e=this,r=["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"];r.forEach(function(i){return e[i].destroy()})},t}(),Ct=function(t){At(e,t);function e(r,i){var o=t.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,n=Ge(r);return n?(o.plugins={},o.options=new Zi().merge(i).process(),o.setContent(n).valid&&(o.hooks=new j(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),o.init(n)),o):(xt("Can not resolve the wrapper DOM."),o)}return e.use=function(r){var i=r.pluginName,o=e.plugins.some(function(n){return r===n.ctor});return o?e:Vt(i)?(xt("Plugin Class must specify plugin's name in static property by 'pluginName' field."),e):(e.pluginsMap[i]=!0,e.plugins.push({name:i,applyOrder:r.applyOrder,ctor:r}),e)},e.prototype.setContent=function(r){var i=!1,o=!0,n=r.children[this.options.specifiedIndexAsContent];return n?(i=this.content!==n,i&&(this.content=n)):(xt("The wrapper need at least one child element to be content element to scroll."),o=!1),{valid:o,contentChanged:i}},e.prototype.init=function(r){var i=this;this.wrapper=r,r.isBScrollContainer=!0,this.scroller=new fn(r,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,function(){i.refresh()}),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(Ii),this.applyPlugins(),this.refreshWithoutReset(this.content);var o=this.options,n=o.startX,a=o.startY,l={x:n,y:a};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,l)||this.scroller.scrollTo(l.x,l.y)},e.prototype.applyPlugins=function(){var r=this,i=this.options;e.plugins.sort(function(o,n){var a,l=(a={},a.pre=-1,a.post=1,a),c=o.applyOrder?l[o.applyOrder]:0,s=n.applyOrder?l[n.applyOrder]:0;return c-s}).forEach(function(o){var n=o.ctor;i[o.name]&&typeof n=="function"&&(r.plugins[o.name]=new n(r))})},e.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,function(){var r=document.activeElement;r&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA")&&r.blur()})},e.prototype.eventBubbling=function(){Kt(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},e.prototype.refreshWithoutReset=function(r){this.scroller.refresh(r),this.hooks.trigger(this.hooks.eventTypes.refresh,r),this.trigger(this.eventTypes.refresh,r)},e.prototype.proxy=function(r){var i=this;r.forEach(function(o){var n=o.key,a=o.sourceKey;Qi(i,a,n)})},e.prototype.refresh=function(){var r=this.setContent(this.wrapper),i=r.contentChanged,o=r.valid;if(o){var n=this.content;this.refreshWithoutReset(n),i&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,n),this.trigger(this.eventTypes.contentChanged,n)),this.scroller.resetPosition()}},e.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},e.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},e.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},e.prototype.eventRegister=function(r){this.registerType(r)},e.plugins=[],e.pluginsMap={},e}(j);function It(t,e){var r=new Ct(t,e);return r}It.use=Ct.use;It.plugins=Ct.plugins;It.pluginsMap=Ct.pluginsMap;var at=It;/*!
 * better-scroll / observe-dom
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */var pt=typeof window<"u",Mt=pt&&navigator.userAgent.toLowerCase();Mt&&Mt.indexOf("android")>0;(function(){if(typeof Mt=="string"){var t=/os (\d\d?_\d(_\d)?)/,e=t.exec(Mt);if(!e)return!1;var r=e[1].split("_").map(function(i){return parseInt(i,10)});return r[0]===13&&r[1]>=4}return!1})();var dn=!1;if(pt){var vn="test-passive";try{var ke={};Object.defineProperty(ke,"passive",{get:function(){dn=!0}}),window.addEventListener(vn,function(){},ke)}catch{}}var ir=pt&&document.createElement("div").style,Z=function(){if(!pt)return!1;for(var t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,r=t;e<r.length;e++){var i=r[e];if(ir[i.value]!==void 0)return i.key}return!1}();function q(t){return Z===!1?t:Z==="standard"?t==="transitionEnd"?"transitionend":t:Z+t.charAt(0).toUpperCase()+t.substr(1)}Z&&Z!=="standard"&&""+Z.toLowerCase();var mn=q("transform"),yn=q("transition");pt&&q("perspective")in ir;q("transitionTimingFunction"),q("transitionDuration"),q("transitionDelay"),q("transformOrigin"),q("transitionEnd"),q("transitionProperty");function Te(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}else return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var gn=function(){function t(e){this.scroll=e,this.stopObserver=!1,this.init()}return t.prototype.init=function(){this.handleMutationObserver(),this.handleHooks()},t.prototype.handleMutationObserver=function(){var e=this;if(typeof MutationObserver<"u"){var r=0;this.observer=new MutationObserver(function(i){e.mutationObserverHandler(i,r)}),this.startObserve(this.observer)}else this.checkDOMUpdate()},t.prototype.handleHooks=function(){var e=this;this.hooksFn=[],this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){e.stopObserve(),e.handleMutationObserver()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.enable,function(){e.stopObserver&&e.handleMutationObserver()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.disable,function(){e.stopObserve()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,function(){e.destroy()})},t.prototype.mutationObserverHandler=function(e,r){var i=this;if(!this.shouldNotRefresh()){for(var o=!1,n=!1,a=0;a<e.length;a++){var l=e[a];if(l.type!=="attributes"){o=!0;break}else if(l.target!==this.scroll.scroller.content){n=!0;break}}o?this.scroll.refresh():n&&(clearTimeout(r),r=window.setTimeout(function(){i.shouldNotRefresh()||i.scroll.refresh()},60))}},t.prototype.startObserve=function(e){var r={attributes:!0,childList:!0,subtree:!0};e.observe(this.scroll.scroller.content,r)},t.prototype.shouldNotRefresh=function(){var e=this.scroll.scroller,r=e.scrollBehaviorX,i=e.scrollBehaviorY,o=r.currentPos>r.minScrollPos||r.currentPos<r.maxScrollPos||i.currentPos>i.minScrollPos||i.currentPos<i.maxScrollPos;return e.animater.pending||o},t.prototype.checkDOMUpdate=function(){var e=this,r=this.scroll.scroller.content,i=Te(r),o=i.width,n=i.height,a=function(){if(!e.stopObserver){i=Te(r);var c=i.width,s=i.height;(o!==c||n!==s)&&e.scroll.refresh(),o=c,n=s,l()}},l=function(){setTimeout(function(){a()},1e3)};l()},t.prototype.registerHooks=function(e,r,i){e.on(r,i,this),this.hooksFn.push([e,r,i])},t.prototype.stopObserve=function(){this.stopObserver=!0,this.observer&&this.observer.disconnect()},t.prototype.destroy=function(){this.stopObserve(),this.hooksFn.forEach(function(e){var r=e[0],i=e[1],o=e[2];r.off(i,o)}),this.hooksFn.length=0},t.pluginName="observeDOM",t}();/*!
 * better-scroll / observe-image
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */var ft=typeof window<"u",Ot=ft&&navigator.userAgent.toLowerCase();Ot&&Ot.indexOf("android")>0;(function(){if(typeof Ot=="string"){var t=/os (\d\d?_\d(_\d)?)/,e=t.exec(Ot);if(!e)return!1;var r=e[1].split("_").map(function(i){return parseInt(i,10)});return r[0]===13&&r[1]>=4}return!1})();var nr=!1;if(ft){var bn="test-passive";try{var _e={};Object.defineProperty(_e,"passive",{get:function(){nr=!0}}),window.addEventListener(bn,function(){},_e)}catch{}}var wn=function(t,e){for(var r in e)t[r]=e[r];return t},or=ft&&document.createElement("div").style,tt=function(){if(!ft)return!1;for(var t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,r=t;e<r.length;e++){var i=r[e];if(or[i.value]!==void 0)return i.key}return!1}();function F(t){return tt===!1?t:tt==="standard"?t==="transitionEnd"?"transitionend":t:tt+t.charAt(0).toUpperCase()+t.substr(1)}function kn(t,e,r,i){var o=nr?{passive:!1,capture:!!i}:!!i;t.addEventListener(e,r,o)}function Tn(t,e,r,i){t.removeEventListener(e,r,{capture:!!i})}tt&&tt!=="standard"&&""+tt.toLowerCase();var _n=F("transform"),Sn=F("transition");ft&&F("perspective")in or;F("transitionTimingFunction"),F("transitionDuration"),F("transitionDelay"),F("transformOrigin"),F("transitionEnd"),F("transitionProperty");var Se=function(){function t(e,r){this.wrapper=e,this.events=r,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(kn)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(Tn)},t.prototype.handleDOMEvents=function(e){var r=this,i=this.wrapper;this.events.forEach(function(o){e(i,o.name,r,!!o.capture)})},t.prototype.handleEvent=function(e){var r=e.type;this.events.some(function(i){return i.name===r?(i.handler(e),!0):!1})},t}(),xn=function(t){return t.tagName.toLowerCase()==="img"},Pn=function(){function t(e){this.scroll=e,this.refreshTimer=0,this.init()}return t.prototype.init=function(){this.handleOptions(this.scroll.options.observeImage),this.bindEventsToWrapper()},t.prototype.handleOptions=function(e){e===void 0&&(e={}),e=e===!0?{}:e;var r={debounceTime:100};this.options=wn(r,e)},t.prototype.bindEventsToWrapper=function(){var e=this.scroll.scroller.wrapper;this.imageLoadEventRegister=new Se(e,[{name:"load",handler:this.load.bind(this),capture:!0}]),this.imageErrorEventRegister=new Se(e,[{name:"error",handler:this.load.bind(this),capture:!0}])},t.prototype.load=function(e){var r=this,i=e.target,o=this.options.debounceTime;i&&xn(i)&&(o===0?this.scroll.refresh():(clearTimeout(this.refreshTimer),this.refreshTimer=window.setTimeout(function(){r.scroll.refresh()},this.options.debounceTime)))},t.pluginName="observeImage",t}();/*!
 * better-scroll / pull-up
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */var dt=typeof window<"u",Lt=dt&&navigator.userAgent.toLowerCase();Lt&&Lt.indexOf("android")>0;(function(){if(typeof Lt=="string"){var t=/os (\d\d?_\d(_\d)?)/,e=t.exec(Lt);if(!e)return!1;var r=e[1].split("_").map(function(i){return parseInt(i,10)});return r[0]===13&&r[1]>=4}return!1})();var En=!1;if(dt){var Mn="test-passive";try{var xe={};Object.defineProperty(xe,"passive",{get:function(){En=!0}}),window.addEventListener(Mn,function(){},xe)}catch{}}var On=function(t,e){for(var r in e)t[r]=e[r];return t},sr=dt&&document.createElement("div").style,et=function(){if(!dt)return!1;for(var t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,r=t;e<r.length;e++){var i=r[e];if(sr[i.value]!==void 0)return i.key}return!1}();function R(t){return et===!1?t:et==="standard"?t==="transitionEnd"?"transitionend":t:et+t.charAt(0).toUpperCase()+t.substr(1)}et&&et!=="standard"&&""+et.toLowerCase();var Ln=R("transform"),Bn=R("transition");dt&&R("perspective")in sr;R("transitionTimingFunction"),R("transitionDuration"),R("transitionDelay"),R("transformOrigin"),R("transitionEnd"),R("transitionProperty");var Dn="plugins.pullUpLoad",An=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}],Cn=An.map(function(t){return{key:t.key,sourceKey:Dn+"."+t.name}}),Pe="pullingUp",In=function(){function t(e){this.scroll=e,this.pulling=!1,this.watching=!1,this.init()}return t.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},t.prototype.handleBScroll=function(){this.scroll.registerType([Pe]),this.scroll.proxy(Cn)},t.prototype.handleOptions=function(e){e===void 0&&(e={}),e=e===!0?{}:e;var r={threshold:0};this.options=On(r,e),this.scroll.options.probeType=3},t.prototype.handleHooks=function(){var e=this;this.hooksFn=[];var r=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){e.finishPullUp()}),this.registerHooks(r.hooks,r.hooks.eventTypes.computeBoundary,function(i){i.maxScrollPos>0&&(i.maxScrollPos=-1)})},t.prototype.registerHooks=function(e,r,i){e.on(r,i,this),this.hooksFn.push([e,r,i])},t.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},t.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},t.prototype.checkPullUp=function(e){var r=this,i=this.options.threshold;this.scroll.movingDirectionY===1&&e.y<=this.scroll.maxScrollY+i&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,function(){r.pulling=!1}),this.unwatch(),this.scroll.trigger(Pe))},t.prototype.finishPullUp=function(){var e=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(0),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,function(){e.watch()}):this.watch()},t.prototype.openPullUp=function(e){e===void 0&&(e={}),this.handleOptions(e),this.watch()},t.prototype.closePullUp=function(){this.unwatch()},t.prototype.autoPullUpLoad=function(){var e=this.options.threshold,r=this.scroll.scroller.scrollBehaviorY;if(!(this.pulling||!this.watching)){var i=-1,o=r.maxScrollPos+e+i;this.scroll.scroller.scrollBehaviorY.setMovingDirection(i),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime)}},t.pluginName="pullUpLoad",t}();/*!
 * better-scroll / pull-down
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 */var vt=typeof window<"u",Bt=vt&&navigator.userAgent.toLowerCase();Bt&&Bt.indexOf("android")>0;(function(){if(typeof Bt=="string"){var t=/os (\d\d?_\d(_\d)?)/,e=t.exec(Bt);if(!e)return!1;var r=e[1].split("_").map(function(i){return parseInt(i,10)});return r[0]===13&&r[1]>=4}return!1})();var Hn=!1;if(vt){var $n="test-passive";try{var Ee={};Object.defineProperty(Ee,"passive",{get:function(){Hn=!0}}),window.addEventListener($n,function(){},Ee)}catch{}}var qn=function(t,e){for(var r in e)t[r]=e[r];return t},ar=vt&&document.createElement("div").style,rt=function(){if(!vt)return!1;for(var t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,r=t;e<r.length;e++){var i=r[e];if(ar[i.value]!==void 0)return i.key}return!1}();function U(t){return rt===!1?t:rt==="standard"?t==="transitionEnd"?"transitionend":t:rt+t.charAt(0).toUpperCase()+t.substr(1)}rt&&rt!=="standard"&&""+rt.toLowerCase();var Fn=U("transform"),Rn=U("transition");vt&&U("perspective")in ar;U("transitionTimingFunction"),U("transitionDuration"),U("transitionDelay"),U("transformOrigin"),U("transitionEnd"),U("transitionProperty");var Yt={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},Un="plugins.pullDownRefresh",Nn=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}],Yn=Nn.map(function(t){return{key:t.key,sourceKey:Un+"."+t.name}}),zt="pullingDown",Me="enterThreshold",Oe="leaveThreshold",zn=function(){function t(e){this.scroll=e,this.pulling=0,this.thresholdBoundary=0,this.init()}return t.prototype.setPulling=function(e){this.pulling=e},t.prototype.setThresholdBoundary=function(e){this.thresholdBoundary=e},t.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},t.prototype.handleBScroll=function(){this.scroll.registerType([zt,Me,Oe]),this.scroll.proxy(Yn)},t.prototype.handleOptions=function(e){e===void 0&&(e={}),e=e===!0?{}:e;var r={threshold:90,stop:40};this.options=qn(r,e),this.scroll.options.probeType=3},t.prototype.handleHooks=function(){var e=this;this.hooksFn=[];var r=this.scroll.scroller,i=r.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=i.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){e.finishPullDown()}),this.registerHooks(i.hooks,i.hooks.eventTypes.computeBoundary,function(o){o.maxScrollPos>0&&(o.maxScrollPos=-1),o.minScrollPos=e.currentMinScrollY}),this.hasMouseWheelPlugin()&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,function(o){var n=300,a=350;o.discreteTime=n,o.easeTime=a}),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,function(){r.hooks.trigger(r.hooks.eventTypes.end)}))},t.prototype.registerHooks=function(e,r,i){e.on(r,i,this),this.hooksFn.push([e,r,i])},t.prototype.hasMouseWheelPlugin=function(){return!!this.scroll.eventTypes.alterOptions},t.prototype.watch=function(){var e=this.scroll.scroller;this.watching=!0,this.registerHooks(e.hooks,e.hooks.eventTypes.end,this.checkPullDown),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollStart,this.resetStateBeforeScrollStart),this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkLocationOfThresholdBoundary),this.hasMouseWheelPlugin()&&this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelStart,this.resetStateBeforeScrollStart)},t.prototype.resetStateBeforeScrollStart=function(){this.isFetchingStatus()||(this.setPulling(1),this.setThresholdBoundary(0))},t.prototype.checkLocationOfThresholdBoundary=function(){if(this.pulling===1){var e=this.scroll,r=this.thresholdBoundary!==1&&this.locateInsideThresholdBoundary(),i=this.thresholdBoundary!==2&&!this.locateInsideThresholdBoundary();r&&(this.setThresholdBoundary(1),e.trigger(Me)),i&&(this.setThresholdBoundary(2),e.trigger(Oe))}},t.prototype.locateInsideThresholdBoundary=function(){return this.scroll.y<=this.options.threshold},t.prototype.unwatch=function(){var e=this.scroll,r=e.scroller;this.watching=!1,r.hooks.off(r.hooks.eventTypes.end,this.checkPullDown),e.off(e.eventTypes.scrollStart,this.resetStateBeforeScrollStart),e.off(e.eventTypes.scroll,this.checkLocationOfThresholdBoundary),this.hasMouseWheelPlugin()&&e.off(e.eventTypes.mousewheelStart,this.resetStateBeforeScrollStart)},t.prototype.checkPullDown=function(){var e=this.options,r=e.threshold,i=e.stop;return this.scroll.y<r?!1:(this.pulling===1&&(this.modifyBehaviorYBoundary(i),this.setPulling(2),this.scroll.trigger(zt)),this.scroll.scrollTo(this.scroll.x,i,this.scroll.options.bounceTime,Yt.bounce),this.isFetchingStatus())},t.prototype.isFetchingStatus=function(){return this.pulling===2},t.prototype.modifyBehaviorYBoundary=function(e){var r=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=r.minScrollPos,this.currentMinScrollY=e,r.computeBoundary()},t.prototype.finishPullDown=function(){if(this.isFetchingStatus()){var e=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,e.computeBoundary(),this.setPulling(0),this.scroll.resetPosition(this.scroll.options.bounceTime,Yt.bounce)}},t.prototype.openPullDown=function(e){e===void 0&&(e={}),this.handleOptions(e),this.watching||this.watch()},t.prototype.closePullDown=function(){this.unwatch()},t.prototype.autoPullDownRefresh=function(){var e=this.options,r=e.threshold,i=e.stop;this.isFetchingStatus()||!this.watching||(this.modifyBehaviorYBoundary(i),this.scroll.trigger(this.scroll.eventTypes.scrollStart),this.scroll.scrollTo(this.scroll.x,r),this.setPulling(2),this.scroll.trigger(zt),this.scroll.scrollTo(this.scroll.x,i,this.scroll.options.bounceTime,Yt.bounce))},t.pluginName="pullDownRefresh",t}();const nt=t=>(qe("data-v-f3a12202"),t=t(),Fe(),t),jn=nt(()=>_("span",null,"正在刷新中...",-1)),Xn=[jn],Wn=nt(()=>_("span",null,"刷新成功φ(゜▽゜*)♪",-1)),Vn=[Wn],Kn=nt(()=>_("span",null,"已经是最新的数据啦o(*￣▽￣*)ブ",-1)),Gn=[Kn],Qn={class:"scroll-content"},Jn=nt(()=>_("span",null,"正在加载中...",-1)),Zn=[Jn],to=nt(()=>_("span",null,"加载成功(●'◡'●) ",-1)),eo=[to],ro=nt(()=>_("span",null,"已经到底啦ヾ(•ω•`)o ",-1)),io=[ro],no=X({__name:"Scroll",props:{probeType:{type:Number,default:3},isScrollClick:{type:Boolean,default:!0},observeDOM:{type:Boolean,default:!0},observeImage:{type:Boolean,default:!1},pullDownRefresh:{type:Boolean,default:!1},pullUpLoad:{type:Boolean,default:!1},isShowPollDown:{type:Boolean,default:!1},isPollingDown:{type:Boolean,default:!1},isNewPollDownData:{type:Boolean,default:!1},isShowPollUp:{type:Boolean,default:!1},isPollingUp:{type:Boolean,default:!1},isNewPollUpData:{type:Boolean,default:!1},scrollPollContentStyle:{type:Object,default(){return{}}}},emits:["scrollPosition","scrollPullDown","scrollPullUp"],setup(t,{expose:e,emit:r}){at.use(Pn),at.use(gn),at.use(In),at.use(zn);const i=t,o=M(),n=M(),{isShowPollDown:a,isPollingDown:l,isNewPollDownData:c,isShowPollUp:s,isPollingUp:u,isNewPollUpData:h}=Tr(i),d=r;return Jt(()=>{o.value=new at(n.value,{probeType:i.probeType,click:i.isScrollClick,observeImage:!0,observeDOM:!0,pullDownRefresh:!0,pullUpLoad:!0}),o.value.on("scroll",y=>{d("scrollPosition",y)}),i.pullDownRefresh&&o.value.on("pullingDown",()=>{d("scrollPullDown")}),i.pullUpLoad&&o.value.on("pullingUp",()=>{d("scrollPullUp")})}),e({scroll:o,scrollToUp:(y,m,k=300)=>{o.value&&o.value&&o.value.scrollTo(y,m,k)},scrollRefresh:()=>{o.value&&o.value&&o.value.refresh()},scrollToElement:(y,m=300)=>{o.value&&o.value&&o.value.scrollToElement(y,m)}}),(y,m)=>(E(),L(ht,null,[B(_("div",{class:"scroll-polldown-content",style:ie(t.scrollPollContentStyle)},[B(_("div",null,Xn,512),[[A,P(l)]]),B(_("div",null,[B(_("div",null,Vn,512),[[A,P(c)]]),B(_("div",null,Gn,512),[[A,!P(c)]])],512),[[A,!P(l)]])],4),[[A,P(a)]]),_("div",{class:"scroll-wrapper",ref_key:"warpper",ref:n},[_("div",Qn,[$e(y.$slots,"default",{},void 0,!0)])],512),B(_("div",{class:"scroll-pollup-content",style:ie(t.scrollPollContentStyle)},[B(_("div",null,Zn,512),[[A,P(u)]]),B(_("div",null,[B(_("div",null,eo,512),[[A,P(h)]]),B(_("div",null,io,512),[[A,!P(h)]])],512),[[A,!P(u)]])],4),[[A,P(s)]])],64))}}),oo=N(no,[["__scopeId","data-v-f3a12202"]]),so={},ao={class:"moments"};function lo(t,e){return E(),L("div",ao,[$e(t.$slots,"default")])}const co=N(so,[["render",lo]]);var Gt={exports:{}},x={},Qt={exports:{}},Q={};function lr(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function uo(t,e,r){}function ho(t,e,r){}var po=/javascript\s*\:/img;function fo(t,e){return po.test(e)?"":e}Q.whiteList=lr();Q.getDefaultWhiteList=lr;Q.onAttr=uo;Q.onIgnoreAttr=ho;Q.safeAttrValue=fo;var vo={indexOf:function(t,e){var r,i;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},forEach:function(t,e,r){var i,o;if(Array.prototype.forEach)return t.forEach(e,r);for(i=0,o=t.length;i<o;i++)e.call(r,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},lt=vo;function mo(t,e){t=lt.trimRight(t),t[t.length-1]!==";"&&(t+=";");var r=t.length,i=!1,o=0,n=0,a="";function l(){if(!i){var u=lt.trim(t.slice(o,n)),h=u.indexOf(":");if(h!==-1){var d=lt.trim(u.slice(0,h)),p=lt.trim(u.slice(h+1));if(d){var v=e(o,a.length,d,p,u);v&&(a+=v+"; ")}}}o=n+1}for(;n<r;n++){var c=t[n];if(c==="/"&&t[n+1]==="*"){var s=t.indexOf("*/",n+2);if(s===-1)break;n=s+1,o=n+1,i=!1}else c==="("?i=!0:c===")"?i=!1:c===";"?i||l():c===`
`&&l()}return lt.trim(a)}var yo=mo,kt=Q,go=yo;function Le(t){return t==null}function bo(t){var e={};for(var r in t)e[r]=t[r];return e}function cr(t){t=bo(t||{}),t.whiteList=t.whiteList||kt.whiteList,t.onAttr=t.onAttr||kt.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||kt.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||kt.safeAttrValue,this.options=t}cr.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,i=r.whiteList,o=r.onAttr,n=r.onIgnoreAttr,a=r.safeAttrValue,l=go(t,function(c,s,u,h,d){var p=i[u],v=!1;if(p===!0?v=p:typeof p=="function"?v=p(h):p instanceof RegExp&&(v=p.test(h)),v!==!0&&(v=!1),h=a(u,h),!!h){var b={position:s,sourcePosition:c,source:d,isWhite:v};if(v){var y=o(u,h,b);return Le(y)?u+":"+h:y}else{var y=n(u,h,b);if(!Le(y))return y}}});return l};var wo=cr;(function(t,e){var r=Q,i=wo;function o(a,l){var c=new i(l);return c.process(a)}e=t.exports=o,e.FilterCSS=i;for(var n in r)e[n]=r[n];typeof window<"u"&&(window.filterCSS=t.exports)})(Qt,Qt.exports);var te=Qt.exports,ee={indexOf:function(t,e){var r,i;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},forEach:function(t,e,r){var i,o;if(Array.prototype.forEach)return t.forEach(e,r);for(i=0,o=t.length;i<o;i++)e.call(r,t[i],i,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,r=e.exec(t);return r?r.index:-1}},ko=te.FilterCSS,To=te.getDefaultWhiteList,Dt=ee;function ur(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var hr=new ko;function _o(t,e,r){}function So(t,e,r){}function xo(t,e,r){}function Po(t,e,r){}function pr(t){return t.replace(Mo,"&lt;").replace(Oo,"&gt;")}function Eo(t,e,r,i){if(r=gr(r),e==="href"||e==="src"){if(r=Dt.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(e==="background"){if(Tt.lastIndex=0,Tt.test(r))return""}else if(e==="style"){if(Be.lastIndex=0,Be.test(r)||(De.lastIndex=0,De.test(r)&&(Tt.lastIndex=0,Tt.test(r))))return"";i!==!1&&(i=i||hr,r=i.process(r))}return r=br(r),r}var Mo=/</g,Oo=/>/g,Lo=/"/g,Bo=/&quot;/g,Do=/&#([a-zA-Z0-9]*);?/gim,Ao=/&colon;?/gim,Co=/&newline;?/gim,Tt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Be=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,De=/u\s*r\s*l\s*\(.*/gi;function fr(t){return t.replace(Lo,"&quot;")}function dr(t){return t.replace(Bo,'"')}function vr(t){return t.replace(Do,function(r,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function mr(t){return t.replace(Ao,":").replace(Co," ")}function yr(t){for(var e="",r=0,i=t.length;r<i;r++)e+=t.charCodeAt(r)<32?" ":t.charAt(r);return Dt.trim(e)}function gr(t){return t=dr(t),t=vr(t),t=mr(t),t=yr(t),t}function br(t){return t=fr(t),t=pr(t),t}function Io(){return""}function Ho(t,e){typeof e!="function"&&(e=function(){});var r=!Array.isArray(t);function i(a){return r?!0:Dt.indexOf(t,a)!==-1}var o=[],n=!1;return{onIgnoreTag:function(a,l,c){if(i(a))if(c.isClosing){var s="[/removed]",u=c.position+s.length;return o.push([n!==!1?n:c.position,u]),n=!1,s}else return n||(n=c.position),"[removed]";else return e(a,l,c)},remove:function(a){var l="",c=0;return Dt.forEach(o,function(s){l+=a.slice(c,s[0]),c=s[1]}),l+=a.slice(c),l}}}function $o(t){for(var e="",r=0;r<t.length;){var i=t.indexOf("<!--",r);if(i===-1){e+=t.slice(r);break}e+=t.slice(r,i);var o=t.indexOf("-->",i);if(o===-1)break;r=o+3}return e}function qo(t){var e=t.split("");return e=e.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),e.join("")}x.whiteList=ur();x.getDefaultWhiteList=ur;x.onTag=_o;x.onIgnoreTag=So;x.onTagAttr=xo;x.onIgnoreTagAttr=Po;x.safeAttrValue=Eo;x.escapeHtml=pr;x.escapeQuote=fr;x.unescapeQuote=dr;x.escapeHtmlEntities=vr;x.escapeDangerHtml5Entities=mr;x.clearNonPrintableCharacter=yr;x.friendlyAttrValue=gr;x.escapeAttrValue=br;x.onIgnoreTagStripAll=Io;x.StripTagBody=Ho;x.stripCommentTag=$o;x.stripBlankChar=qo;x.attributeWrapSign='"';x.cssFilter=hr;x.getDefaultCSSWhiteList=To;var Ht={},Y=ee;function Fo(t){var e=Y.spaceIndex(t),r;return e===-1?r=t.slice(1,-1):r=t.slice(1,e+1),r=Y.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function Ro(t){return t.slice(0,2)==="</"}function Uo(t,e,r){var i="",o=0,n=!1,a=!1,l=0,c=t.length,s="",u="";t:for(l=0;l<c;l++){var h=t.charAt(l);if(n===!1){if(h==="<"){n=l;continue}}else if(a===!1){if(h==="<"){i+=r(t.slice(o,l)),n=l,o=l;continue}if(h===">"||l===c-1){i+=r(t.slice(o,n)),u=t.slice(n,l+1),s=Fo(u),i+=e(n,i.length,s,u,Ro(u)),o=l+1,n=!1;continue}if(h==='"'||h==="'")for(var d=1,p=t.charAt(l-d);p.trim()===""||p==="=";){if(p==="="){a=h;continue t}p=t.charAt(l-++d)}}else if(h===a){a=!1;continue}}return o<c&&(i+=r(t.substr(o))),i}var No=/[^a-zA-Z0-9\\_:.-]/gim;function Yo(t,e){var r=0,i=0,o=[],n=!1,a=t.length;function l(d,p){if(d=Y.trim(d),d=d.replace(No,"").toLowerCase(),!(d.length<1)){var v=e(d,p||"");v&&o.push(v)}}for(var c=0;c<a;c++){var s=t.charAt(c),u,h;if(n===!1&&s==="="){n=t.slice(r,c),r=c+1,i=t.charAt(r)==='"'||t.charAt(r)==="'"?r:jo(t,c+1);continue}if(n!==!1&&c===i){if(h=t.indexOf(s,c+1),h===-1)break;u=Y.trim(t.slice(i+1,h)),l(n,u),n=!1,c=h,r=c+1;continue}if(/\s|\n|\t/.test(s))if(t=t.replace(/\s|\n|\t/g," "),n===!1)if(h=zo(t,c),h===-1){u=Y.trim(t.slice(r,c)),l(u),n=!1,r=c+1;continue}else{c=h-1;continue}else if(h=Xo(t,c-1),h===-1){u=Y.trim(t.slice(r,c)),u=Ae(u),l(n,u),n=!1,r=c+1;continue}else continue}return r<t.length&&(n===!1?l(t.slice(r)):l(n,Ae(Y.trim(t.slice(r))))),Y.trim(o.join(" "))}function zo(t,e){for(;e<t.length;e++){var r=t[e];if(r!==" ")return r==="="?e:-1}}function jo(t,e){for(;e<t.length;e++){var r=t[e];if(r!==" ")return r==="'"||r==='"'?e:-1}}function Xo(t,e){for(;e>0;e--){var r=t[e];if(r!==" ")return r==="="?e:-1}}function Wo(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function Ae(t){return Wo(t)?t.substr(1,t.length-2):t}Ht.parseTag=Uo;Ht.parseAttr=Yo;var Vo=te.FilterCSS,D=x,wr=Ht,Ko=wr.parseTag,Go=wr.parseAttr,Pt=ee;function _t(t){return t==null}function Qo(t){var e=Pt.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=Pt.trim(t.slice(e+1,-1));var r=t[t.length-1]==="/";return r&&(t=Pt.trim(t.slice(0,-1))),{html:t,closing:r}}function Jo(t){var e={};for(var r in t)e[r]=t[r];return e}function Zo(t){var e={};for(var r in t)Array.isArray(t[r])?e[r.toLowerCase()]=t[r].map(function(i){return i.toLowerCase()}):e[r.toLowerCase()]=t[r];return e}function kr(t){t=Jo(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=D.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=Zo(t.whiteList||t.allowList):t.whiteList=D.whiteList,this.attributeWrapSign=t.singleQuotedAttributeValue===!0?"'":D.attributeWrapSign,t.onTag=t.onTag||D.onTag,t.onTagAttr=t.onTagAttr||D.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||D.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||D.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||D.safeAttrValue,t.escapeHtml=t.escapeHtml||D.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new Vo(t.css))}kr.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,i=r.whiteList,o=r.onTag,n=r.onIgnoreTag,a=r.onTagAttr,l=r.onIgnoreTagAttr,c=r.safeAttrValue,s=r.escapeHtml,u=e.attributeWrapSign,h=e.cssFilter;r.stripBlankChar&&(t=D.stripBlankChar(t)),r.allowCommentTag||(t=D.stripCommentTag(t));var d=!1;r.stripIgnoreTagBody&&(d=D.StripTagBody(r.stripIgnoreTagBody,n),n=d.onIgnoreTag);var p=Ko(t,function(v,b,y,m,k){var w={sourcePosition:v,position:b,isClosing:k,isWhite:Object.prototype.hasOwnProperty.call(i,y)},f=o(y,m,w);if(!_t(f))return f;if(w.isWhite){if(w.isClosing)return"</"+y+">";var g=Qo(m),T=i[y],S=Go(g.html,function(O,H){var $t=Pt.indexOf(T,O)!==-1,ot=a(y,O,H,$t);return _t(ot)?$t?(H=c(y,O,H,h),H?O+"="+u+H+u:O):(ot=l(y,O,H,$t),_t(ot)?void 0:ot):ot});return m="<"+y,S&&(m+=" "+S),g.closing&&(m+=" /"),m+=">",m}else return f=n(y,m,w),_t(f)?s(m):f},s);return d&&(p=d.remove(p)),p};var ts=kr;(function(t,e){var r=x,i=Ht,o=ts;function n(l,c){var s=new o(c);return s.process(l)}e=t.exports=n,e.filterXSS=n,e.FilterXSS=o,function(){for(var l in r)e[l]=r[l];for(var c in i)e[c]=i[c]}(),typeof window<"u"&&(window.filterXSS=t.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=t.exports)})(Gt,Gt.exports);var es=Gt.exports;const re=Ne(es);(function(t,e){typeof exports=="object"&&typeof module=="object"?module.exports=e():typeof define=="function"&&define.amd?define("APlayer",[],e):typeof exports=="object"?exports.APlayer=e():t.APlayer=e()})(window,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(i,o,n){r.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:n})},r.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},r.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(o,"a",o),o},r.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},r.p="/",r(r.s=41)}([function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=/mobile/i.test(window.navigator.userAgent),o={secondToTime:function(n){var a=Math.floor(n/3600),l=Math.floor((n-3600*a)/60),c=Math.floor(n-3600*a-60*l);return(a>0?[a,l,c]:[l,c]).map(function(s){return s<10?"0"+s:""+s}).join(":")},getElementViewLeft:function(n){var a=n.offsetLeft,l=n.offsetParent,c=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;l!==null&&l!==n;)a+=l.offsetLeft,l=l.offsetParent;else for(;l!==null;)a+=l.offsetLeft,l=l.offsetParent;return a-c},getElementViewTop:function(n,a){for(var l,c=n.offsetTop,s=n.offsetParent;s!==null;)c+=s.offsetTop,s=s.offsetParent;return l=document.body.scrollTop+document.documentElement.scrollTop,a?c:c-l},isMobile:i,storage:{set:function(n,a){localStorage.setItem(n,a)},get:function(n){return localStorage.getItem(n)}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},randomOrder:function(n){return function(a){for(var l=a.length-1;l>=0;l--){var c=Math.floor(Math.random()*(l+1)),s=a[c];a[c]=a[l],a[l]=s}return a}([].concat(function(a){if(Array.isArray(a)){for(var l=0,c=Array(a.length);l<a.length;l++)c[l]=a[l];return c}return Array.from(a)}(Array(n))).map(function(a,l){return l}))}};e.default=o},function(t,e,r){var i=r(2);t.exports=function(o){o=o||{};var n="",a=i.$each,l=o.audio,c=(o.$value,o.$index,i.$escape),s=o.theme,u=o.index;return a(l,function(h,d){n+=`
<li>
    <span class="aplayer-list-cur" style="background-color: `,n+=c(h.theme||s),n+=`;"></span>
    <span class="aplayer-list-index">`,n+=c(d+u),n+=`</span>
    <span class="aplayer-list-title">`,n+=c(h.name),n+=`</span>
    <span class="aplayer-list-author">`,n+=c(h.artist),n+=`</span>
</li>
`}),n}},function(t,e,r){t.exports=r(15)},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=k(r(33)),o=k(r(32)),n=k(r(31)),a=k(r(30)),l=k(r(29)),c=k(r(28)),s=k(r(27)),u=k(r(26)),h=k(r(25)),d=k(r(24)),p=k(r(23)),v=k(r(22)),b=k(r(21)),y=k(r(20)),m=k(r(19));function k(f){return f&&f.__esModule?f:{default:f}}var w={play:i.default,pause:o.default,volumeUp:n.default,volumeDown:a.default,volumeOff:l.default,orderRandom:c.default,orderList:s.default,menu:u.default,loopAll:h.default,loopOne:d.default,loopNone:p.default,loading:v.default,right:b.default,skip:y.default,lrc:m.default};e.default=w},function(t,e,r){var i,o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":o(window))==="object"&&(i=window)}t.exports=i},function(t,e,r){var i,o,n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(o=typeof(i=function(){if((typeof window>"u"?"undefined":n(window))==="object"&&document.querySelectorAll!==void 0&&window.pageYOffset!==void 0&&history.pushState!==void 0){var a=function(s,u,h,d){return h>d?u:s+(u-s)*((p=h/d)<.5?4*p*p*p:(p-1)*(2*p-2)*(2*p-2)+1);var p},l=function(s,u,h,d){u=u||500;var p=(d=d||window).scrollTop||window.pageYOffset;if(typeof s=="number")var v=parseInt(s);else var v=function(m,k){return m.nodeName==="HTML"?-k:m.getBoundingClientRect().top+k}(s,p);var b=Date.now(),y=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(m){window.setTimeout(m,15)};(function m(){var k=Date.now()-b;d!==window?d.scrollTop=a(p,v,k,u):window.scroll(0,a(p,v,k,u)),k>u?typeof h=="function"&&h(s):y(m)})()},c=function(s){if(!s.defaultPrevented){s.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var u=document.getElementById(this.hash.substring(1));if(!u)return;l(u,500,function(h){location.replace("#"+h.id)})}};return document.addEventListener("DOMContentLoaded",function(){for(var s,u=document.querySelectorAll('a[href^="#"]:not([href="#"])'),h=u.length;s=u[--h];)s.addEventListener("click",c,!1)}),l}})=="function"?i.call(e,r,e,t):i)===void 0||(t.exports=o)},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function s(u,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}return function(u,h,d){return h&&s(u.prototype,h),d&&s(u,d),u}}(),o=l(r(1)),n=l(r(0)),a=l(r(5));function l(s){return s&&s.__esModule?s:{default:s}}var c=function(){function s(u){(function(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this.player=u,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return i(s,[{key:"bindEvents",value:function(){var u=this;this.player.template.list.addEventListener("click",function(h){var d=void 0;d=h.target.tagName.toUpperCase()==="LI"?h.target:h.target.parentElement;var p=parseInt(d.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;p!==u.index?(u.switch(p),u.player.play()):u.player.toggle()})}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(u){this.player.events.trigger("listadd",{audios:u}),Object.prototype.toString.call(u)!=="[object Array]"&&(u=[u]),u.map(function(p){return p.name=p.name||p.title||"Audio name",p.artist=p.artist||p.author||"Audio artist",p.cover=p.cover||p.pic,p.type=p.type||"normal",p});var h=!(this.audios.length>1),d=this.audios.length===0;this.player.template.listOl.innerHTML+=(0,o.default)({theme:this.player.options.theme,audio:u,index:this.audios.length+1}),this.audios=this.audios.concat(u),h&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=n.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=u.theme||this.player.options.theme,d&&(this.player.options.order==="random"?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(u){if(this.player.events.trigger("listremove",{index:u}),this.audios[u])if(this.audios.length>1){var h=this.player.container.querySelectorAll(".aplayer-list li");h[u].remove(),this.audios.splice(u,1),this.player.lrc&&this.player.lrc.remove(u),u===this.index&&(this.audios[u]?this.switch(u):this.switch(u-1)),this.index>u&&this.index--;for(var d=u;d<h.length;d++)h[d].getElementsByClassName("aplayer-list-index")[0].textContent=d;this.audios.length===1&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(u){if(this.player.events.trigger("listswitch",{index:u}),u!==void 0&&this.audios[u]){this.index=u;var h=this.audios[this.index];this.player.template.pic.style.backgroundImage=h.cover?"url('"+h.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=h.name,this.player.template.author.innerHTML=h.artist?" - "+h.artist:"";var d=this.player.container.getElementsByClassName("aplayer-list-light")[0];d&&d.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,a.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(h),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),this.player.duration!==1&&(this.player.template.dtime.innerHTML=n.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=n.default.secondToTime(0)}}]),s}();e.default=c},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(a,l){for(var c=0;c<l.length;c++){var s=l[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}return function(a,l,c){return l&&n(a.prototype,l),c&&n(a,c),a}}(),o=function(){function n(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,n),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return i(n,[{key:"on",value:function(a,l){this.type(a)&&typeof l=="function"&&(this.events[a]||(this.events[a]=[]),this.events[a].push(l))}},{key:"trigger",value:function(a,l){if(this.events[a]&&this.events[a].length)for(var c=0;c<this.events[a].length;c++)this.events[a][c](l)}},{key:"type",value:function(a){return this.playerEvents.indexOf(a)!==-1?"player":this.audioEvents.indexOf(a)!==-1?"audio":(console.error("Unknown event name: "+a),null)}}]),n}();e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(a,l){for(var c=0;c<l.length;c++){var s=l[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}return function(a,l,c){return l&&n(a.prototype,l),c&&n(a,c),a}}(),o=function(){function n(a){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,n),this.player=a,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(l){window.setTimeout(l,1e3/60)},this.types=["loading"],this.init()}return i(n,[{key:"init",value:function(){var a=this;this.types.forEach(function(l){a["init"+l+"Checker"]()})}},{key:"initloadingChecker",value:function(){var a=this,l=0,c=0,s=!1;this.loadingChecker=setInterval(function(){a.enableloadingChecker&&(c=a.player.audio.currentTime,s||c!==l||a.player.audio.paused||(a.player.container.classList.add("aplayer-loading"),s=!0),s&&c>l&&!a.player.audio.paused&&(a.player.container.classList.remove("aplayer-loading"),s=!1),l=c)},100)}},{key:"enable",value:function(a){this["enable"+a+"Checker"]=!0,a==="fps"&&this.initfpsChecker()}},{key:"disable",value:function(a){this["enable"+a+"Checker"]=!1}},{key:"destroy",value:function(){var a=this;this.types.forEach(function(l){a["enable"+l+"Checker"]=!1,a[l+"Checker"]&&clearInterval(a[l+"Checker"])})}}]),n}();e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function c(s,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,u,h){return u&&c(s.prototype,u),h&&c(s,h),s}}(),o=a(r(0)),n=a(r(3));function a(c){return c&&c.__esModule?c:{default:c}}var l=function(){function c(s){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),this.player=s,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),o.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return i(c,[{key:"initPlayButton",value:function(){var s=this;this.player.template.pic.addEventListener("click",function(){s.player.toggle()})}},{key:"initPlayBar",value:function(){var s=this,u=function(d){var p=((d.clientX||d.changedTouches[0].clientX)-o.default.getElementViewLeft(s.player.template.barWrap))/s.player.template.barWrap.clientWidth;p=Math.max(p,0),p=Math.min(p,1),s.player.bar.set("played",p,"width"),s.player.lrc&&s.player.lrc.update(p*s.player.duration),s.player.template.ptime.innerHTML=o.default.secondToTime(p*s.player.duration)},h=function d(p){document.removeEventListener(o.default.nameMap.dragEnd,d),document.removeEventListener(o.default.nameMap.dragMove,u);var v=((p.clientX||p.changedTouches[0].clientX)-o.default.getElementViewLeft(s.player.template.barWrap))/s.player.template.barWrap.clientWidth;v=Math.max(v,0),v=Math.min(v,1),s.player.bar.set("played",v,"width"),s.player.seek(s.player.bar.get("played","width")*s.player.duration),s.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(o.default.nameMap.dragStart,function(){s.player.disableTimeupdate=!0,document.addEventListener(o.default.nameMap.dragMove,u),document.addEventListener(o.default.nameMap.dragEnd,h)})}},{key:"initVolumeButton",value:function(){var s=this;this.player.template.volumeButton.addEventListener("click",function(){s.player.audio.muted?(s.player.audio.muted=!1,s.player.switchVolumeIcon(),s.player.bar.set("volume",s.player.volume(),"height")):(s.player.audio.muted=!0,s.player.switchVolumeIcon(),s.player.bar.set("volume",0,"height"))});var u=function(d){var p=1-((d.clientY||d.changedTouches[0].clientY)-o.default.getElementViewTop(s.player.template.volumeBar,s.player.options.fixed))/s.player.template.volumeBar.clientHeight;p=Math.max(p,0),p=Math.min(p,1),s.player.volume(p)},h=function d(p){s.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(o.default.nameMap.dragEnd,d),document.removeEventListener(o.default.nameMap.dragMove,u);var v=1-((p.clientY||p.changedTouches[0].clientY)-o.default.getElementViewTop(s.player.template.volumeBar,s.player.options.fixed))/s.player.template.volumeBar.clientHeight;v=Math.max(v,0),v=Math.min(v,1),s.player.volume(v)};this.player.template.volumeBarWrap.addEventListener(o.default.nameMap.dragStart,function(){s.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(o.default.nameMap.dragMove,u),document.addEventListener(o.default.nameMap.dragEnd,h)})}},{key:"initOrderButton",value:function(){var s=this;this.player.template.order.addEventListener("click",function(){s.player.options.order==="list"?(s.player.options.order="random",s.player.template.order.innerHTML=n.default.orderRandom):s.player.options.order==="random"&&(s.player.options.order="list",s.player.template.order.innerHTML=n.default.orderList)})}},{key:"initLoopButton",value:function(){var s=this;this.player.template.loop.addEventListener("click",function(){s.player.list.audios.length>1?s.player.options.loop==="one"?(s.player.options.loop="none",s.player.template.loop.innerHTML=n.default.loopNone):s.player.options.loop==="none"?(s.player.options.loop="all",s.player.template.loop.innerHTML=n.default.loopAll):s.player.options.loop==="all"&&(s.player.options.loop="one",s.player.template.loop.innerHTML=n.default.loopOne):s.player.options.loop==="one"||s.player.options.loop==="all"?(s.player.options.loop="none",s.player.template.loop.innerHTML=n.default.loopNone):s.player.options.loop==="none"&&(s.player.options.loop="all",s.player.template.loop.innerHTML=n.default.loopAll)})}},{key:"initMenuButton",value:function(){var s=this;this.player.template.menu.addEventListener("click",function(){s.player.list.toggle()})}},{key:"initMiniSwitcher",value:function(){var s=this;this.player.template.miniSwitcher.addEventListener("click",function(){s.player.setMode(s.player.mode==="mini"?"normal":"mini")})}},{key:"initSkipButton",value:function(){var s=this;this.player.template.skipBackButton.addEventListener("click",function(){s.player.skipBack()}),this.player.template.skipForwardButton.addEventListener("click",function(){s.player.skipForward()}),this.player.template.skipPlayButton.addEventListener("click",function(){s.player.toggle()})}},{key:"initLrcButton",value:function(){var s=this;this.player.template.lrcButton.addEventListener("click",function(){s.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(s.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),s.player.lrc&&s.player.lrc.show()):(s.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),s.player.lrc&&s.player.lrc.hide())})}}]),c}();e.default=l},function(t,e,r){var i=r(2);t.exports=function(o){o=o||{};var n="",a=i.$each,l=o.lyrics,c=(o.$value,o.$index,i.$escape);return a(l,function(s,u){n+=`
    <p`,u===0&&(n+=' class="aplayer-lrc-current"'),n+=">",n+=c(s[1]),n+=`</p>
`}),n}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function c(s,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,u,h){return u&&c(s.prototype,u),h&&c(s,h),s}}(),n=r(10),a=(i=n)&&i.__esModule?i:{default:i},l=function(){function c(s){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),this.container=s.container,this.async=s.async,this.player=s.player,this.parsed=[],this.index=0,this.current=[]}return o(c,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||s<this.current[this.index][0]||!this.current[this.index+1]||s>=this.current[this.index+1][0])for(var u=0;u<this.current.length;u++)s>=this.current[u][0]&&(!this.current[u+1]||s<this.current[u+1][0])&&(this.index=u,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[u].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(s){var u=this;if(!this.parsed[s])if(this.async){this.parsed[s]=[["00:00","Loading"]];var h=new XMLHttpRequest;h.onreadystatechange=function(){s===u.player.list.index&&h.readyState===4&&(h.status>=200&&h.status<300||h.status===304?u.parsed[s]=u.parse(h.responseText):(u.player.notice(null),u.parsed[s]=[["00:00","Not available"]]),u.container.innerHTML=(0,a.default)({lyrics:u.parsed[s]}),u.update(0),u.current=u.parsed[s])};var d=this.player.list.audios[s].lrc;h.open("get",d,!0),h.send(null)}else this.player.list.audios[s].lrc?this.parsed[s]=this.parse(this.player.list.audios[s].lrc):this.parsed[s]=[["00:00","Not available"]];this.container.innerHTML=(0,a.default)({lyrics:this.parsed[s]}),this.update(0),this.current=this.parsed[s]}},{key:"parse",value:function(s){if(s){for(var u=(s=s.replace(/([^\]^\n])\[/g,function(f,g){return g+`
[`})).split(`
`),h=[],d=u.length,p=0;p<d;p++){var v=u[p].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),b=u[p].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(v)for(var y=v.length,m=0;m<y;m++){var k=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(v[m]),w=60*k[1]+parseInt(k[2])+(k[4]?parseInt(k[4])/((k[4]+"").length===2?100:1e3):0);h.push([w,b])}}return(h=h.filter(function(f){return f[1]})).sort(function(f,g){return f[0]-g[0]}),h}return[]}},{key:"remove",value:function(s){this.parsed.splice(s,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),c}();e.default=l},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(){function c(s,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,u,h){return u&&c(s.prototype,u),h&&c(s,h),s}}(),n=r(0),a=(i=n)&&i.__esModule?i:{default:i},l=function(){function c(s){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),this.storageName=s.options.storageName,this.data=JSON.parse(a.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||s.options.volume}return o(c,[{key:"get",value:function(s){return this.data[s]}},{key:"set",value:function(s,u){this.data[s]=u,a.default.storage.set(this.storageName,JSON.stringify(this.data))}}]),c}();e.default=l},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(a,l){for(var c=0;c<l.length;c++){var s=l[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}return function(a,l,c){return l&&n(a.prototype,l),c&&n(a,c),a}}(),o=function(){function n(a){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,n),this.elements={},this.elements.volume=a.volume,this.elements.played=a.played,this.elements.loaded=a.loaded}return i(n,[{key:"set",value:function(a,l,c){l=Math.max(l,0),l=Math.min(l,1),this.elements[a].style[c]=100*l+"%"}},{key:"get",value:function(a,l){return parseFloat(this.elements[a].style[l])/100}}]),n}();e.default=o},function(t,e,r){(function(i){t.exports=!1;try{t.exports=Object.prototype.toString.call(i.process)==="[object process]"}catch(o){console.log(o)}}).call(this,r(4))},function(t,e,r){(function(i){var o=r(14),n=Object.create(o?i:window),a=/["&'<>]/;n.$escape=function(l){return function(c){var s=""+c,u=a.exec(s);if(!u)return c;var h="",d=void 0,p=void 0,v=void 0;for(d=u.index,p=0;d<s.length;d++){switch(s.charCodeAt(d)){case 34:v="&#34;";break;case 38:v="&#38;";break;case 39:v="&#39;";break;case 60:v="&#60;";break;case 62:v="&#62;";break;default:continue}p!==d&&(h+=s.substring(p,d)),p=d+1,h+=v}return p!==d?h+s.substring(p,d):h}(function c(s){return typeof s!="string"&&(s=s==null?"":typeof s=="function"?c(s.call(s)):JSON.stringify(s)),s}(l))},n.$each=function(l,c){if(Array.isArray(l))for(var s=0,u=l.length;s<u;s++)c(l[s],s);else for(var h in l)c(l[h],h)},t.exports=n}).call(this,r(4))},function(t,e,r){var i=r(2);t.exports=function(o){var n="",a=(o=o||{}).options,l=o.cover,c=i.$escape,s=o.icons,u=function(d){return n+=d},h=o.getObject;return o.theme,o.audio,o.index,a.fixed?(n+=`
<div class="aplayer-list`,a.listFolded&&(n+=" aplayer-list-hide"),n+='"',a.listMaxHeight&&(n+=' style="max-height: ',n+=c(a.listMaxHeight),n+='"'),n+=`>
    <ol`,a.listMaxHeight&&(n+=' style="max-height: ',n+=c(a.listMaxHeight),n+='"'),n+=`>
        `,u(r(1)(h({theme:a.theme,audio:a.audio,index:1}))),n+=`
    </ol>
</div>
<div class="aplayer-body">
    <div class="aplayer-pic" style="`,l&&(n+="background-image: url(&quot;",n+=c(l),n+="&quot;);"),n+="background-color: ",n+=c(a.theme),n+=`;">
        <div class="aplayer-button aplayer-play">`,n+=s.play,n+=`</div>
    </div>
    <div class="aplayer-info" style="display: none;">
        <div class="aplayer-music">
            <span class="aplayer-title">No audio</span>
            <span class="aplayer-author"></span>
        </div>
        <div class="aplayer-controller">
            <div class="aplayer-bar-wrap">
                <div class="aplayer-bar">
                    <div class="aplayer-loaded" style="width: 0"></div>
                    <div class="aplayer-played" style="width: 0; background: `,n+=c(a.theme),n+=`;">
                        <span class="aplayer-thumb" style="background: `,n+=c(a.theme),n+=`;">
                            <span class="aplayer-loading-icon">`,n+=s.loading,n+=`</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="aplayer-time">
                <span class="aplayer-time-inner">
                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>
                </span>
                <span class="aplayer-icon aplayer-icon-back">
                    `,n+=s.skip,n+=`
                </span>
                <span class="aplayer-icon aplayer-icon-play">
                    `,n+=s.play,n+=`
                </span>
                <span class="aplayer-icon aplayer-icon-forward">
                    `,n+=s.skip,n+=`
                </span>
                <div class="aplayer-volume-wrap">
                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">
                        `,n+=s.volumeDown,n+=`
                    </button>
                    <div class="aplayer-volume-bar-wrap">
                        <div class="aplayer-volume-bar">
                            <div class="aplayer-volume" style="height: 80%; background: `,n+=c(a.theme),n+=`;"></div>
                        </div>
                    </div>
                </div>
                <button type="button" class="aplayer-icon aplayer-icon-order">
                    `,a.order==="list"?n+=s.orderList:a.order==="random"&&(n+=s.orderRandom),n+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-loop">
                    `,a.loop==="one"?n+=s.loopOne:a.loop==="all"?n+=s.loopAll:a.loop==="none"&&(n+=s.loopNone),n+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-menu">
                    `,n+=s.menu,n+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-lrc">
                    `,n+=s.lrc,n+=`
                </button>
            </div>
        </div>
    </div>
    <div class="aplayer-notice"></div>
    <div class="aplayer-miniswitcher"><button class="aplayer-icon">`,n+=s.right,n+=`</button></div>
</div>
<div class="aplayer-lrc">
    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>
</div>
`):(n+=`
<div class="aplayer-body">
    <div class="aplayer-pic" style="`,l&&(n+="background-image: url(&quot;",n+=c(l),n+="&quot;);"),n+="background-color: ",n+=c(a.theme),n+=`;">
        <div class="aplayer-button aplayer-play">`,n+=s.play,n+=`</div>
    </div>
    <div class="aplayer-info">
        <div class="aplayer-music">
            <span class="aplayer-title">No audio</span>
            <span class="aplayer-author"></span>
        </div>
        <div class="aplayer-lrc">
            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>
        </div>
        <div class="aplayer-controller">
            <div class="aplayer-bar-wrap">
                <div class="aplayer-bar">
                    <div class="aplayer-loaded" style="width: 0"></div>
                    <div class="aplayer-played" style="width: 0; background: `,n+=c(a.theme),n+=`;">
                        <span class="aplayer-thumb" style="background: `,n+=c(a.theme),n+=`;">
                            <span class="aplayer-loading-icon">`,n+=s.loading,n+=`</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="aplayer-time">
                <span class="aplayer-time-inner">
                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>
                </span>
                <span class="aplayer-icon aplayer-icon-back">
                    `,n+=s.skip,n+=`
                </span>
                <span class="aplayer-icon aplayer-icon-play">
                    `,n+=s.play,n+=`
                </span>
                <span class="aplayer-icon aplayer-icon-forward">
                    `,n+=s.skip,n+=`
                </span>
                <div class="aplayer-volume-wrap">
                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">
                        `,n+=s.volumeDown,n+=`
                    </button>
                    <div class="aplayer-volume-bar-wrap">
                        <div class="aplayer-volume-bar">
                            <div class="aplayer-volume" style="height: 80%; background: `,n+=c(a.theme),n+=`;"></div>
                        </div>
                    </div>
                </div>
                <button type="button" class="aplayer-icon aplayer-icon-order">
                    `,a.order==="list"?n+=s.orderList:a.order==="random"&&(n+=s.orderRandom),n+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-loop">
                    `,a.loop==="one"?n+=s.loopOne:a.loop==="all"?n+=s.loopAll:a.loop==="none"&&(n+=s.loopNone),n+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-menu">
                    `,n+=s.menu,n+=`
                </button>
                <button type="button" class="aplayer-icon aplayer-icon-lrc">
                    `,n+=s.lrc,n+=`
                </button>
            </div>
        </div>
    </div>
    <div class="aplayer-notice"></div>
    <div class="aplayer-miniswitcher"><button class="aplayer-icon">`,n+=s.right,n+=`</button></div>
</div>
<div class="aplayer-list`,a.listFolded&&(n+=" aplayer-list-hide"),n+='"',a.listMaxHeight&&(n+=' style="max-height: ',n+=c(a.listMaxHeight),n+='"'),n+=`>
    <ol`,a.listMaxHeight&&(n+=' style="max-height: ',n+=c(a.listMaxHeight),n+='"'),n+=`>
        `,u(r(1)(h({theme:a.theme,audio:a.audio,index:1}))),n+=`
    </ol>
</div>
`),n}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function c(s,u){for(var h=0;h<u.length;h++){var d=u[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,u,h){return u&&c(s.prototype,u),h&&c(s,h),s}}(),o=a(r(3)),n=a(r(16));function a(c){return c&&c.__esModule?c:{default:c}}var l=function(){function c(s){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c),this.container=s.container,this.options=s.options,this.randomOrder=s.randomOrder,this.init()}return i(c,[{key:"init",value:function(){var s="";this.options.audio.length&&(s=this.options.order==="random"?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,n.default)({options:this.options,icons:o.default,cover:s,getObject:function(u){return u}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),c}();e.default=l},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i){var o={container:i.element||document.getElementsByClassName("aplayer")[0],mini:i.narrow||i.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:i.showlrc||i.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:i.fixed,listMaxHeight:i.listmaxheight||"250px",audio:i.music||[],storageName:"aplayer-setting"};for(var n in o)o.hasOwnProperty(n)&&!i.hasOwnProperty(n)&&(i[n]=o[n]);return Object.prototype.toString.call(i.audio)!=="[object Array]"&&(i.audio=[i.audio]),i.audio.map(function(a){return a.name=a.name||a.title||"Audio name",a.artist=a.artist||a.author||"Audio artist",a.cover=a.cover||a.pic,a.type=a.type||"normal",a}),i.audio.length<=1&&i.loop==="one"&&(i.loop="all"),i}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(t,e,r){var i,o,n=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(m){if(i===setTimeout)return setTimeout(m,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(m,0);try{return i(m,0)}catch{try{return i.call(null,m,0)}catch{return i.call(this,m,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var s,u=[],h=!1,d=-1;function p(){h&&s&&(h=!1,s.length?u=s.concat(u):d=-1,u.length&&v())}function v(){if(!h){var m=c(p);h=!0;for(var k=u.length;k;){for(s=u,u=[];++d<k;)s&&s[d].run();d=-1,k=u.length}s=null,h=!1,function(w){if(o===clearTimeout)return clearTimeout(w);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(w);try{o(w)}catch{try{return o.call(null,w)}catch{return o.call(this,w)}}}(m)}}function b(m,k){this.fun=m,this.array=k}function y(){}n.nextTick=function(m){var k=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)k[w-1]=arguments[w];u.push(new b(m,k)),u.length!==1||h||c(v)},b.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(m){return[]},n.binding=function(m){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(m){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(i,o){(function(n,a){if(!n.setImmediate){var l,c,s,u,h,d=1,p={},v=!1,b=n.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(n);y=y&&y.setTimeout?y:n,{}.toString.call(n.process)==="[object process]"?l=function(w){o.nextTick(function(){k(w)})}:function(){if(n.postMessage&&!n.importScripts){var w=!0,f=n.onmessage;return n.onmessage=function(){w=!1},n.postMessage("","*"),n.onmessage=f,w}}()?(u="setImmediate$"+Math.random()+"$",h=function(w){w.source===n&&typeof w.data=="string"&&w.data.indexOf(u)===0&&k(+w.data.slice(u.length))},n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),l=function(w){n.postMessage(u+w,"*")}):n.MessageChannel?((s=new MessageChannel).port1.onmessage=function(w){k(w.data)},l=function(w){s.port2.postMessage(w)}):b&&"onreadystatechange"in b.createElement("script")?(c=b.documentElement,l=function(w){var f=b.createElement("script");f.onreadystatechange=function(){k(w),f.onreadystatechange=null,c.removeChild(f),f=null},c.appendChild(f)}):l=function(w){setTimeout(k,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var f=new Array(arguments.length-1),g=0;g<f.length;g++)f[g]=arguments[g+1];var T={callback:w,args:f};return p[d]=T,l(d),d++},y.clearImmediate=m}function m(w){delete p[w]}function k(w){if(v)setTimeout(k,0,w);else{var f=p[w];if(f){v=!0;try{(function(g){var T=g.callback,S=g.args;switch(S.length){case 0:T();break;case 1:T(S[0]);break;case 2:T(S[0],S[1]);break;case 3:T(S[0],S[1],S[2]);break;default:T.apply(a,S)}})(f)}finally{m(w),v=!1}}}}})(typeof self>"u"?i===void 0?void 0:i:self)}).call(this,r(4),r(34))},function(t,e,r){var i=Function.prototype.apply;function o(n,a){this._id=n,this._clearFn=a}e.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(n){n&&n.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(n,a){clearTimeout(n._idleTimeoutId),n._idleTimeout=a},e.unenroll=function(n){clearTimeout(n._idleTimeoutId),n._idleTimeout=-1},e._unrefActive=e.active=function(n){clearTimeout(n._idleTimeoutId);var a=n._idleTimeout;a>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},a))},r(35),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,r){(function(i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n=setTimeout;function a(){}function l(p){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(p,this)}function c(p,v){for(;p._state===3;)p=p._value;p._state!==0?(p._handled=!0,l._immediateFn(function(){var b=p._state===1?v.onFulfilled:v.onRejected;if(b!==null){var y;try{y=b(p._value)}catch(m){return void u(v.promise,m)}s(v.promise,y)}else(p._state===1?s:u)(v.promise,p._value)})):p._deferreds.push(v)}function s(p,v){try{if(v===p)throw new TypeError("A promise cannot be resolved with itself.");if(v&&((v===void 0?"undefined":o(v))==="object"||typeof v=="function")){var b=v.then;if(v instanceof l)return p._state=3,p._value=v,void h(p);if(typeof b=="function")return void d((y=b,m=v,function(){y.apply(m,arguments)}),p)}p._state=1,p._value=v,h(p)}catch(k){u(p,k)}var y,m}function u(p,v){p._state=2,p._value=v,h(p)}function h(p){p._state===2&&p._deferreds.length===0&&l._immediateFn(function(){p._handled||l._unhandledRejectionFn(p._value)});for(var v=0,b=p._deferreds.length;v<b;v++)c(p,p._deferreds[v]);p._deferreds=null}function d(p,v){var b=!1;try{p(function(y){b||(b=!0,s(v,y))},function(y){b||(b=!0,u(v,y))})}catch(y){if(b)return;b=!0,u(v,y)}}l.prototype.catch=function(p){return this.then(null,p)},l.prototype.then=function(p,v){var b=new this.constructor(a);return c(this,new function(y,m,k){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof m=="function"?m:null,this.promise=k}(p,v,b)),b},l.prototype.finally=function(p){var v=this.constructor;return this.then(function(b){return v.resolve(p()).then(function(){return b})},function(b){return v.resolve(p()).then(function(){return v.reject(b)})})},l.all=function(p){return new l(function(v,b){if(!p||p.length===void 0)throw new TypeError("Promise.all accepts an array");var y=Array.prototype.slice.call(p);if(y.length===0)return v([]);var m=y.length;function k(f,g){try{if(g&&((g===void 0?"undefined":o(g))==="object"||typeof g=="function")){var T=g.then;if(typeof T=="function")return void T.call(g,function(S){k(f,S)},b)}y[f]=g,--m==0&&v(y)}catch(S){b(S)}}for(var w=0;w<y.length;w++)k(w,y[w])})},l.resolve=function(p){return p&&(p===void 0?"undefined":o(p))==="object"&&p.constructor===l?p:new l(function(v){v(p)})},l.reject=function(p){return new l(function(v,b){b(p)})},l.race=function(p){return new l(function(v,b){for(var y=0,m=p.length;y<m;y++)p[y].then(v,b)})},l._immediateFn=typeof i=="function"&&function(p){i(p)}||function(p){n(p,0)},l._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},t.exports=l}).call(this,r(36).setImmediate)},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function w(f,g){for(var T=0;T<g.length;T++){var S=g[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}return function(f,g,T){return g&&w(f.prototype,g),T&&w(f,T),f}}(),o=y(r(37)),n=y(r(0)),a=y(r(3)),l=y(r(18)),c=y(r(17)),s=y(r(13)),u=y(r(12)),h=y(r(11)),d=y(r(9)),p=y(r(8)),v=y(r(7)),b=y(r(6));function y(w){return w&&w.__esModule?w:{default:w}}var m=[],k=function(){function w(f){if(function(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}(this,w),this.options=(0,l.default)(f),this.container=this.options.container,this.paused=!0,this.playedPromise=o.default.resolve(),this.mode="normal",this.randomOrder=n.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),n.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,this.options.lrcType===2||this.options.lrcType===!0)for(var g=this.container.getElementsByClassName("aplayer-lrc-content"),T=0;T<g.length;T++)this.options.audio[T]&&(this.options.audio[T].lrc=g[T].innerHTML);this.template=new c.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new h.default({container:this.template.lrc,async:this.options.lrcType===3,player:this})),this.events=new v.default,this.storage=new u.default(this),this.bar=new s.default(this.template),this.controller=new d.default(this),this.timer=new p.default(this),this.list=new b.default(this),this.initAudio(),this.bindEvents(),this.options.order==="random"?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),m.push(this)}return i(w,[{key:"initAudio",value:function(){var f=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var g=function(S){f.audio.addEventListener(f.events.audioEvents[S],function(O){f.events.trigger(f.events.audioEvents[S],O)})},T=0;T<this.events.audioEvents.length;T++)g(T);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var f=this;this.on("play",function(){f.paused&&f.setUIPlaying()}),this.on("pause",function(){f.paused||f.setUIPaused()}),this.on("timeupdate",function(){if(!f.disableTimeupdate){f.bar.set("played",f.audio.currentTime/f.duration,"width"),f.lrc&&f.lrc.update();var T=n.default.secondToTime(f.audio.currentTime);f.template.ptime.innerHTML!==T&&(f.template.ptime.innerHTML=T)}}),this.on("durationchange",function(){f.duration!==1&&(f.template.dtime.innerHTML=n.default.secondToTime(f.duration))}),this.on("progress",function(){var T=f.audio.buffered.length?f.audio.buffered.end(f.audio.buffered.length-1)/f.duration:0;f.bar.set("loaded",T,"width")});var g=void 0;this.on("error",function(){f.list.audios.length>1?(f.notice("An audio error has occurred, player will skip forward in 2 seconds."),g=setTimeout(function(){f.skipForward(),f.paused||f.play()},2e3)):f.list.audios.length===1&&f.notice("An audio error has occurred.")}),this.events.on("listswitch",function(){g&&clearTimeout(g)}),this.on("ended",function(){f.options.loop==="none"?f.options.order==="list"?f.list.index<f.list.audios.length-1?(f.list.switch((f.list.index+1)%f.list.audios.length),f.play()):(f.list.switch((f.list.index+1)%f.list.audios.length),f.pause()):f.options.order==="random"&&(f.randomOrder.indexOf(f.list.index)<f.randomOrder.length-1?(f.list.switch(f.nextIndex()),f.play()):(f.list.switch(f.nextIndex()),f.pause())):f.options.loop==="one"?(f.list.switch(f.list.index),f.play()):f.options.loop==="all"&&(f.skipForward(),f.play())})}},{key:"setAudio",value:function(f){this.hls&&(this.hls.destroy(),this.hls=null);var g=f.type;this.options.customAudioType&&this.options.customAudioType[g]?Object.prototype.toString.call(this.options.customAudioType[g])==="[object Function]"?this.options.customAudioType[g](this.audio,f,this):console.error("Illegal customType: "+g):(g&&g!=="auto"||(g=/m3u8(#|\?|$)/i.exec(f.url)?"hls":"normal"),g==="hls"?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(f.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=f.url:this.notice("Error: HLS is not supported."):g==="normal"&&(this.audio.src=f.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.list.index;(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])&&this.list.audios[g]&&(this.list.audios[g].theme=f),this.template.listCurs[g]&&(this.template.listCurs[g].style.backgroundColor=f),g===this.list.index&&(this.template.pic.style.backgroundColor=f,this.template.played.style.background=f,this.template.thumb.style.background=f,this.template.volume.style.background=f)}},{key:"seek",value:function(f){f=Math.max(f,0),f=Math.min(f,this.duration),this.audio.currentTime=f,this.bar.set("played",f/this.duration,"width"),this.template.ptime.innerHTML=n.default.secondToTime(f)}},{key:"setUIPlaying",value:function(){var f=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout(function(){f.template.button.innerHTML=a.default.pause},100),this.template.skipPlayButton.innerHTML=a.default.pause),this.timer.enable("loading"),this.options.mutex)for(var g=0;g<m.length;g++)this!==m[g]&&m[g].pause()}},{key:"play",value:function(){var f=this;this.setUIPlaying();var g=this.audio.play();g&&g.catch(function(T){console.warn(T),T.name==="NotAllowedError"&&f.setUIPaused()})}},{key:"setUIPaused",value:function(){var f=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout(function(){f.template.button.innerHTML=a.default.play},100),this.template.skipPlayButton.innerHTML=a.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=a.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=a.default.volumeDown:this.template.volumeButton.innerHTML=a.default.volumeOff}},{key:"volume",value:function(f,g){return f=parseFloat(f),isNaN(f)||(f=Math.max(f,0),f=Math.min(f,1),this.bar.set("volume",f,"height"),g||this.storage.set("volume",f),this.audio.volume=f,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(f,g){this.events.on(f,g)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(f){this.list.switch(f)}},{key:"addAudio",value:function(f){this.list.add(f)}},{key:"removeAudio",value:function(f){this.list.remove(f)}},{key:"destroy",value:function(){m.splice(m.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"normal";this.mode=f,f==="mini"?this.container.classList.add("aplayer-narrow"):f==="normal"&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(f){var g=this,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8;this.template.notice.innerHTML=f,this.template.notice.style.opacity=S,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:f}),T&&(this.noticeTime=setTimeout(function(){g.template.notice.style.opacity=0,g.events.trigger("noticehide")},T))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if(this.options.order==="list")return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if(this.options.order==="random"){var f=this.randomOrder.indexOf(this.list.index);return f===0?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[f-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if(this.options.order==="list")return(this.list.index+1)%this.list.audios.length;if(this.options.order==="random"){var f=this.randomOrder.indexOf(this.list.index);return f===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[f+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),w}();e.default=k},,function(t,e,r){},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),r(40);var i,o=r(38),n=(i=o)&&i.__esModule?i:{default:i};e.default=n.default}]).default});function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]==null?{}:arguments[e],i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),i.forEach(function(o){is(t,o,r[o])})}return t}function is(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class Ce extends HTMLElement{connectedCallback(){window.APlayer&&window.fetch&&(this._init(),this._parse())}disconnectedCallback(){this.lock||this.aplayer.destroy()}_camelize(e){return e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(r,i)=>i.toUpperCase())}_init(){let e={};for(let o=0;o<this.attributes.length;o+=1)e[this._camelize(this.attributes[o].name)]=this.attributes[o].value;let r=["server","type","id","api","auth","auto","lock","name","title","artist","author","url","cover","pic","lyric","lrc"];this.meta={};for(var i=0;i<r.length;i++){let o=r[i];this.meta[o]=e[o],delete e[o]}this.config=e,this.api=this.meta.api||window.meting_api||"https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r",this.meta.auto&&this._parse_link()}_parse_link(){let e=[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]];for(var r=0;r<e.length;r++){let i=e[r],o=new RegExp(i[0]),n=o.exec(this.meta.auto);if(n!==null)return this.meta.server=i[1],this.meta.type=i[2],void(this.meta.id=n[1])}}_parse(){if(this.meta.url){let r={name:this.meta.name||this.meta.title||"Audio name",artist:this.meta.artist||this.meta.author||"Audio artist",url:this.meta.url,cover:this.meta.cover||this.meta.pic,lrc:this.meta.lrc||this.meta.lyric||"",type:this.meta.type||"auto"};return r.lrc||(this.meta.lrcType=0),this.innerText&&(r.lrc=this.innerText,this.meta.lrcType=2),void this._loadPlayer([r])}let e=this.api.replace(":server",this.meta.server).replace(":type",this.meta.type).replace(":id",this.meta.id).replace(":auth",this.meta.auth).replace(":r",Math.random());fetch(e).then(r=>r.json()).then(r=>this._loadPlayer(r))}_loadPlayer(e){let r={audio:e,mutex:!0,lrcType:this.meta.lrcType||3,storageName:"metingjs"};if(e.length){let i=rs({},r,this.config);for(let n in i)(i[n]==="true"||i[n]==="false")&&(i[n]=i[n]==="true");let o=document.createElement("div");i.container=o,this.appendChild(o),this.aplayer=new APlayer(i)}}}window.customElements&&!window.customElements.get("meting-js")&&(window.MetingJSElement=Ce,window.customElements.define("meting-js",Ce));const ns="/talk/assets/music_player-BFvmHdA3.svg",os=["innerHTML"],ss={class:"music-player"},as={key:0},ls={key:1},cs=["name","artist","url","cover"],us={key:2},hs=["server","type","id"],ps=X({__name:"MusicPlayer",props:{music_info_title:{type:String,default:""},music_info_body:{type:String,default:""}},setup(t){const e=t,r=re(e.music_info_body,{stripIgnoreTagBody:!0,whiteList:{h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:["style"],span:["style","class"],strong:["style"],b:["style"],i:["style"],br:[],p:["style"],pre:["style","class"],code:["style","class"],a:["style","target","href","title","rel"],img:["style","src","title","data-src","alt"],div:["style"],input:["style","type","checked","disabled"],table:["style","width","border"],tr:["style"],td:["style","width","colspan"],th:["style","width","colspan"],tbody:["style"],ul:["style"],li:["style"],ol:["style"],dl:["style"],dt:["style"],em:["style"],cite:["style"],section:["style"],header:["style"],footer:["style"],blockquote:["style"],audio:["autoplay","controls","loop","preload","src"],video:["autoplay","controls","loop","preload","src","height","width"]},css:{whiteList:{color:!0,"background-color":!0,width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0,"font-size":!0}}}),i=M(!1),o=M(""),n=M(""),a=M(""),l=M(""),c=M(""),s=/^type=/,u=/p=/,h=/id=/,d=/music_name=/,p=/music_author=/,v=M(""),b=M(""),y=M("");if(e.music_info_title&&e.music_info_title.indexOf("type")>-1&&e.music_info_title.indexOf("p")>-1&&e.music_info_title.indexOf("id")>-1&&e.music_info_title.indexOf("&")>-1&&s.test(e.music_info_title)&&u.test(e.music_info_title)&&h.test(e.music_info_title)){const m=e.music_info_title.split("&");if(m&&m.length>=3){if(m[0]&&m[0].indexOf("type")>-1&&m[0].indexOf("=")>-1&&m[0].split("=")&&m[0].split("=").length>=2)switch(o.value=m[0].split("=")[1].trim().toUpperCase(),o.value){case"S":n.value="song";break;case"P":n.value="playlist";break;default:n.value="song";break}if(m[1]&&m[1].indexOf("p")>-1&&m[1].indexOf("=")>-1&&m[1].split("=")&&m[1].split("=").length>=2)switch(a.value=m[1].split("=")[1].trim().toUpperCase(),a.value){case"N":l.value="netease";break;case"K":l.value="kugou";break;case"Q":l.value="tencent";break;case"W":l.value="kuwo";break;default:l.value="netease";break}m[2]&&m[2].indexOf("id")>-1&&m[2].indexOf("=")>-1&&m[2].split("=")&&m[2].split("=").length===2&&(c.value=m[2].split("=")[1].trim()),o.value&&a.value&&c.value&&(i.value=!0)}}if(e.music_info_title&&e.music_info_title.indexOf("type")>-1&&e.music_info_title.indexOf("p")>-1&&e.music_info_title.indexOf("id")>-1&&e.music_info_title.indexOf("music_name")>-1&&e.music_info_title.indexOf("music_author")>-1&&e.music_info_title.indexOf("&")>-1&&s.test(e.music_info_title)&&u.test(e.music_info_title)&&h.test(e.music_info_title)&&d.test(e.music_info_title)&&p.test(e.music_info_title)){const m=e.music_info_title.split("&");m&&m.length>=5&&a.value==="W"&&(m[3]&&m[3].indexOf("music_name")>-1&&m[3].indexOf("=")>-1&&m[3].split("=")&&m[3].split("=").length===2&&(v.value=m[3].split("=")[1].trim()),m[4]&&m[4].indexOf("music_author")>-1&&m[4].indexOf("=")>-1&&m[4].split("=")&&m[4].split("=").length===2&&(b.value=m[4].split("=")[1].trim())),o.value&&a.value&&c.value&&v.value&&b.value&&(y.value=`https://antiserver.kuwo.cn/anti.s?rid=MUSIC_${c.value}&response=res&format=mp3|aac&type=convert_url&br=320kmp3&callback=getlink&jpcallback=getlink.mp3`)}return(m,k)=>(E(),L(ht,null,[_("div",{class:"music-player-detail",innerHTML:P(r)},null,8,os),_("div",ss,[i.value?i.value&&a.value==="W"?(E(),L("div",ls,[_("meting-js",{preload:"none",name:v.value,artist:b.value,url:y.value,cover:P(ns)},null,8,cs)])):(E(),L("div",us,[_("meting-js",{server:l.value,type:n.value,preload:"none",id:c.value},null,8,hs)])):(E(),L("div",as,"暂无歌曲"))])],64))}}),Ie=N(ps,[["__scopeId","data-v-c286f629"]]),fs=["innerHTML"],ds={class:"video-player-content"},vs=["src"],ms=X({__name:"VideoPlayer",props:{video_info_title:{type:String,default:""},video_info_body:{type:String,default:""}},setup(t){const e=t,r=re(e.video_info_body,{stripIgnoreTagBody:!0,whiteList:{h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:["style"],span:["style","class"],strong:["style"],b:["style"],i:["style"],br:[],p:["style"],pre:["style","class"],code:["style","class"],a:["style","target","href","title","rel"],img:["style","src","title","data-src","alt"],div:["style"],input:["style","type","checked","disabled"],table:["style","width","border"],tr:["style"],td:["style","width","colspan"],th:["style","width","colspan"],tbody:["style"],ul:["style"],li:["style"],ol:["style"],dl:["style"],dt:["style"],em:["style"],cite:["style"],section:["style"],header:["style"],footer:["style"],blockquote:["style"],audio:["autoplay","controls","loop","preload","src"],video:["autoplay","controls","loop","preload","src","height","width"]},css:{whiteList:{color:!0,"background-color":!0,width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0,"font-size":!0}}}),i=M(""),o=M(""),n=M(""),a=M(""),l=/p=/,c=/id=/;if(e.video_info_title&&e.video_info_title.indexOf("p")>-1&&e.video_info_title.indexOf("id")>-1&&e.video_info_title.indexOf("&")>-1&&l.test(e.video_info_title)&&c.test(e.video_info_title)){const s=e.video_info_title.split("&");if(s&&s.length>=2){if(s[0]&&s[0].indexOf("p")>-1&&s[0].indexOf("=")>-1&&s[0].split("=")&&s[0].split("=").length>=2)switch(o.value=s[0].split("=")[1].trim().toUpperCase(),o.value){case"B":n.value="bilibili";break;default:n.value="bilibili";break}s[1]&&s[1].indexOf("id")>-1&&s[1].indexOf("=")>-1&&s[1].split("=")&&s[1].split("=").length===2&&(a.value=s[1].split("=")[1].trim())}}return Jt(()=>{o.value&&a.value&&o.value==="B"&&(i.value=`//player.bilibili.com/player.html?bvid=${a.value}&page=1&danmaku=0`)}),(s,u)=>(E(),L(ht,null,[_("div",{class:"video-player-detail",innerHTML:P(r)},null,8,fs),_("div",ds,[_("iframe",{src:i.value,scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%"},null,8,vs)])],64))}}),He=N(ms,[["__scopeId","data-v-44f99661"]]),ys={class:"moment-item"},gs={class:"moment-item-container"},bs={class:"moment-item-author"},ws=["href"],ks=["title"],Ts={class:"moment-item-author-info"},_s={class:"moment-item-author-info-detail"},Ss=["href"],xs=["title"],Ps={class:"moment-item-author-info-time"},Es=["title"],Ms={class:"moment-item-content"},Os=["innerHTML"],Ls={key:1,class:"moment-item-main-content-detail"},Bs={key:2,class:"moment-item-main-content-detail"},Ds={key:3,class:"moment-item-main-content-detail"},As="",Cs=X({__name:"MomentItem",props:{momentData:{type:Object,default(){return{moment_html_url:null,moment_avatar_url:null,moment_author_nickname:null,moment_login_user:null,moment_created_at_text:null,moment_created_at:null,moment_title:null,moment_body:null,moment_is_only_music:!1,moment_is_only_video:!1,moment_is_music_video:!1,moment_isshowpic:null}}}},setup(t){const e=t,r=_r(()=>re(e.momentData.moment_body,{stripIgnoreTagBody:!0,whiteList:{h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:["style"],span:["style","class"],strong:["style"],b:["style"],i:["style"],br:[],p:["style"],pre:["style","class"],code:["style","class"],a:["style","target","href","title","rel"],img:["style","src","title","data-src","alt"],div:["style"],input:["style","type","checked","disabled"],table:["style","width","border"],tr:["style"],td:["style","width","colspan"],th:["style","width","colspan"],tbody:["style"],ul:["style"],li:["style"],ol:["style"],dl:["style"],dt:["style"],em:["style"],cite:["style"],section:["style"],header:["style"],footer:["style"],blockquote:["style"],audio:["autoplay","controls","loop","preload","src"],video:["autoplay","controls","loop","preload","src","height","width"]},css:{whiteList:{color:!0,"background-color":!0,width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0,"font-size":!0}}}));return(i,o)=>{const n=qt("lazy"),a=qt("lazy-container"),l=qt("viewer");return E(),L("div",ys,[_("div",gs,[_("div",bs,[_("a",{class:"moment-item-author-img",href:e.momentData.moment_html_url},[B(_("img",{class:"moment-item-author-img",title:e.momentData.moment_author_nickname},null,8,ks),[[n,e.momentData.moment_avatar_url]])],8,ws),_("div",Ts,[_("div",_s,[_("a",{class:"moment-item-author-info-text",href:e.momentData.moment_html_url},[_("span",{title:e.momentData.moment_author_nickname},St(e.momentData.moment_author_nickname),9,xs)],8,Ss),_("div",{class:"moment-item-author-info-easteregg"},St(As))]),_("div",Ps,[_("span",{class:"moment-item-author-info-time-text",title:e.momentData.moment_created_at_text},St(e.momentData.moment_created_at),9,Es)])])]),_("div",Ms,[!e.momentData.moment_is_only_music&&!e.momentData.moment_is_only_video&&!e.momentData.moment_is_music_video?B((E(),L("div",{key:0,class:"moment-item-main-content-detail",innerHTML:r.value},null,8,Os)),[[a,{selector:"img"}],[l]]):e.momentData.moment_is_only_music&&!e.momentData.moment_is_only_video&&!e.momentData.moment_is_music_video?(E(),L("div",Ls,[C(Ie,{music_info_title:e.momentData.moment_title,music_info_body:e.momentData.moment_body},null,8,["music_info_title","music_info_body"])])):!e.momentData.moment_is_only_music&&e.momentData.moment_is_only_video&&!e.momentData.moment_is_music_video?(E(),L("div",Bs,[C(He,{video_info_title:e.momentData.moment_title,video_info_body:e.momentData.moment_body},null,8,["video_info_title","video_info_body"])])):(E(),L("div",Ds,[C(Ie,{music_info_title:e.momentData.moment_title,music_info_body:e.momentData.moment_body},null,8,["music_info_title","music_info_body"]),C(He,{video_info_title:e.momentData.moment_title,video_info_body:e.momentData.moment_body},null,8,["video_info_title","video_info_body"])]))])])])}}}),Is=N(Cs,[["__scopeId","data-v-00f937a6"]]),Hs=t=>(qe("data-v-f62a5696"),t=t(),Fe(),t),$s={class:"back-to-up"},qs=Hs(()=>_("div",{class:"back-to-up-container"},[_("div",{class:"back-to-up-container-img",title:"回到顶部"},[_("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:"icon_svg",fill:"currentColor"},[_("path",{d:"M554.666667 268.8v601.6h-85.333334V268.8L337.066667 401.066667 277.333333 341.333333 512 106.666667 746.666667 341.333333l-59.733334 59.733334L554.666667 268.8z"})])])],-1)),Fs=[qs],Rs=X({__name:"BackToUp",props:{isShowBackToUp:{type:Boolean,default:!0}},setup(t){return(e,r)=>(E(),Re(Sr,{name:"backtoup"},{default:jt(()=>[B(_("div",$s,Fs,512),[[A,t.isShowBackToUp]])]),_:1}))}}),Us=N(Rs,[["__scopeId","data-v-f62a5696"]]),Ns={class:"main-moments",id:"main-moments"},Ys=X({__name:"MainMoments",props:{momentsData:{type:Array,default(){return[{moment_html_url:null,moment_avatar_url:null,moment_author_nickname:null,moment_login_user:null,moment_created_at_text:null,moment_created_at:null,moment_title:null,moment_body:null,moment_isshowpic:null}]}}},setup(t){const e=xr({probeType:3,isScrollClick:!0,observeDOM:!0,observeImage:!0,pullDownRefresh:!0,pullUpLoad:!0,isShowPollDown:!1,isPollingDown:!1,isNewPollDownData:!1,isShowPollUp:!1,isPollingUp:!1,isNewPollUpData:!1,scrollPollContentStyle:{fontSize:"16px",color:"var(--color-text)",background:"var(--color-background-container)"}}),r=M(),i=M(!1),o=b=>{const y=Math.abs(b.y);i.value=y>1e3},n=ue(async()=>{d&&d.value&&d.value.length>0&&(e.isShowPollDown=!0,e.isNewPollDownData=!1,e.isPollingDown=!0),await u(),setTimeout(()=>{var b;e.isPollingDown=!1,e.isNewPollDownData=p.value,(b=r.value)==null||b.scroll.finishPullDown(),setTimeout(()=>{e.isShowPollDown=!1},500)},1500)},1e3),a=ue(async()=>{var m,k;const b=document.getElementById("main-moments").offsetHeight,y=(m=r.value)==null?void 0:m.scroll.scrollerHeight;d&&d.value&&d.value.length>0&&b<y&&(e.isShowPollUp=!0,e.isNewPollUpData=!1,e.isPollingUp=!0),await h(),e.isPollingUp=!1,e.isNewPollUpData=v.value,(k=r.value)==null||k.scroll.finishPullUp(),setTimeout(()=>{e.isShowPollUp=!1},500)},1e3),l=()=>{var b;(b=r.value)==null||b.scrollToUp(0,0,800)},c=Ye(),{getMomentList:s,getMomentListRefresh:u,getMomentListLoadMore:h}=c,{momentlist:d,isPollDownUpdated:p,isPollUpLoadMore:v}=Ue(c);return Jt(async()=>{await s()}),(b,y)=>(E(),L("div",Ns,[C(oo,Er(e,{ref_key:"scrollRef",ref:r,onScrollPosition:o,onScrollPullDown:P(n),onScrollPullUp:P(a)}),{default:jt(()=>[C(co,null,{default:jt(()=>[(E(!0),L(ht,null,Pr(P(d),m=>(E(),Re(Is,{momentData:m,key:m.moment_html_url},null,8,["momentData"]))),128))]),_:1})]),_:1},16,["onScrollPullDown","onScrollPullUp"]),C(Us,{class:"main-moments-backtoup",isShowBackToUp:i.value,onClick:l},null,8,["isShowBackToUp"])]))}}),zs=N(Ys,[["__scopeId","data-v-17a581f9"]]),js={class:"home-title"},Xs={class:"home-content"},Ws=X({__name:"Home",setup(t){const e=Mr(),r=Lr(),i=Ye(),{isLoaded:o}=Ue(i);return(n,a)=>{const l=Or("Loading");return E(),L(ht,null,[_("div",js,[C(Ir,{"app-url":P(r).usemoment.moment_url,title:P(e).useconfig.moment_name},null,8,["app-url","title"])]),_("div",Xs,[C(zs)]),C(l,{isShowLoading:!P(o),top:44,bottom:49,background:"var(--color-background-bar)"},null,8,["isShowLoading"])],64)}}}),Qs=N(Ws,[["__scopeId","data-v-6ae67da8"]]);export{Qs as default};
